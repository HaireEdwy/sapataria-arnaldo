class DetailsDisclosure extends HTMLElement{constructor(){super(),this.activateByHover=this.getAttribute("data-hover")&&"true"===this.getAttribute("data-hover"),this.mainDetailsToggle=this.querySelector("details"),this.content=this.mainDetailsToggle.querySelector("summary").nextElementSibling,this.mainDetailsToggle.addEventListener("toggle",this.onToggle.bind(this)),this.activateByHover?(this.mainDetailsToggle.addEventListener("mouseenter",this.onMouseOver.bind(this)),this.mainDetailsToggle.addEventListener("mouseleave",this.onMouseOut.bind(this))):this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this))}onMouseOver(){this.open()}onMouseOut(){this.close()}onFocusOut(){setTimeout((()=>{this.contains(document.activeElement)||this.close()}))}onToggle(){this.animations||(this.animations=this.content.getAnimations()),this.mainDetailsToggle.hasAttribute("open")?this.animations.forEach((t=>t.play())):this.animations.forEach((t=>t.cancel()))}open(){this.mainDetailsToggle.setAttribute("open",!0),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!0)}close(){this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}}customElements.define("details-disclosure",DetailsDisclosure);