!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(window,function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}([function(t,e,i){var o,n;void 0===(n="function"==typeof(o=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BROWSER=function(){var t=navigator.userAgent,e={edge:/edge/i,opera:/OPR/i,facebook:/FBAV/i,instagram:/Instagram/i,chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i},i="";for(var o in e)if(e[o].test(t)){i=o;break}return i}()})?o.apply(e,[e]):o)||(t.exports=n)},function(t,e,i){var o,n,s;n=[e,i(0),i(2)],void 0===(s="function"==typeof(o=function(t,e,i){"use strict";function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(t,"__esModule",{value:!0}),t.WebpushCommon=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();t.WebpushCommon=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._egListId=e.list.id,this._egSubscriberId="",this._data=e,this._email="",this.popupLayer={width:450,height:338,top:0,left:0},this._state="subscribe",this._cookieObj=JSON.parse(this.readCookie("eg_cookie")),null!=this._cookieObj&&this._cookieObj.egoiWpAllow&&this._changeState("allowed"),null!=this._cookieObj&&this._cookieObj.egoiWpBlock&&this._changeState("denied")}return n(t,[{key:"getSubmissionUrl",value:function(){return"https://egoiapp2.com/webpush/submission/"+this.data.appCode}},{key:"getDeclineUrl",value:function(){return"https://egoiapp2.com/webpush/decline/"+this.data.appCode}},{key:"getVisitUrl",value:function(){return"https://egoiapp2.com/webpush/visit/"+this.data.appCode}},{key:"egListId",set:function(t){this._egListId=t},get:function(){return this._egListId}},{key:"egSubscriberId",set:function(t){this._egSubscriberId=t},get:function(){return this._egSubscriberId}},{key:"temporaryEgSubscriberId",set:function(t){this._temporaryEgSubscriberId=t},get:function(){return this._temporaryEgSubscriberId}},{key:"template",set:function(t){this._template=t},get:function(){return this._template}},{key:"layerPosition",set:function(t){this._layerPosition=t},get:function(){return this._layerPosition}},{key:"layerPositionCss",set:function(t){this._layerPositionCss=t},get:function(){return this._layerPositionCss}},{key:"popupLayer",set:function(t){t.top=screen.height/2-t.height/2,t.left=screen.width/2-t.width/2,this._popupLayer=t},get:function(){return this._popupLayer}},{key:"email",set:function(t){this._email=t},get:function(){return this._email}},{key:"appCode",get:function(){return this.data.appCode}},{key:"websitePushId",get:function(){return this.data.websitePushId}},{key:"appUrl",get:function(){return"https://"+this.data.label.toLowerCase()+".egoiapp2.com/"}},{key:"data",get:function(){return this._data}},{key:"egoiUrl",get:function(){return this.data.egoi_url||"https://www.e-goi.com/home/?utm_medium=referral&utm_source=WebPush"}},{key:"list",get:function(){return this.data.list}},{key:"subscription",get:function(){return this.data.subscription_pop_up.data}},{key:"icon",get:function(){return this.data.subscription_pop_up.icon?this.data.subscription_pop_up.icon:"https://egoiapp2.com/wp/img/default-pushicon.png"}},{key:"templateURL",get:function(){return"https://egoiapp2.com/wp/templates/"+this.template+"?app="+this.data.appCode}},{key:"state",get:function(){return this._state}},{key:"cookieValue",get:function(){return"_"+this.egSubscriberId+"_"+this.egListId}}]),n(t,[{key:"_changeState",value:function(t){this._state=t}},{key:"replaceAll",value:function(t,e,i){return i.replace(new RegExp(t,"g"),e)}},{key:"replaceAllArray",value:function(t,e){for(var i in t)e=this.replaceAll("{{"+i+"}}",t[i],e);return e}},{key:"resizeIframe",value:function(t){t.style.height=t.contentWindow.document.body.scrollHeight+"px"}},{key:"createIframe",value:function(t,e){var i=this,o=document.createElement("iframe");o.setAttribute("id",this.appCode),o.setAttribute("frameBorder","0"),o.setAttribute("scrolling","no"),o.setAttribute("class","webPushIframe"),o.setAttribute("style",e),o.setAttribute("title","E-goi Webpush App"),o.addEventListener("load",function(){return i.resizeIframe(o)}),document.body.appendChild(o),o.contentWindow.document.write(t),o.contentWindow.document.webPush=this,o.contentWindow.document.close(),this._iframe=o}},{key:"createCookie",value:function(t,e,i){var o=void 0;if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),o="; expires="+n.toGMTString()}else o="";document.cookie=t+"="+e+o+"; path=/; domain="+window.location.host.replace("www.","")}},{key:"createUniqueCookie",value:function(t,e,i){var n,s=void 0,r=void 0;if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3),s="; expires="+a.toGMTString()}else s="";if("egoiWpAllow"==t)o(n={appCode:e},t,!0),o(n,"uId",this.egSubscriberId),o(n,"lId",this.egListId),r=n;else if("egoiWpBlock"==t){var c;o(c={appCode:e},t,!0),o(c,"lId",this.egListId),r=c}else"wpFreq"==t&&(r=o({appCode:this.appCode},t,e));this._cookieObj=r,document.cookie="eg_cookie="+JSON.stringify(r)+s+"; path=/; domain="+window.location.host.replace("www.","")}},{key:"removeCookie",value:function(t){"egoiWpAllow"==t&&delete this._cookieObj.uId,delete this._cookieObj[t];var e,i=new Date;i.setTime(i.getTime()+432e10),e="; expires="+i.toGMTString(),document.cookie="eg_cookie="+JSON.stringify(this._cookieObj)+e+"; path=/; domain="+window.location.host.replace("www.","")}},{key:"readCookie",value:function(t){var e=void 0,i=document.cookie,o=t+"=",n=i.indexOf("; "+o);if(-1==n){if(0!=(n=i.indexOf(o)))return null}else n+=2,-1==(e=document.cookie.indexOf(";",n))&&(e=i.length);return decodeURI(i.substring(n+o.length,e))}},{key:"setUniqueCookie",value:function(t,e,i,o){"egoiWpAllow"==e?(t[e]=!0,t.uId=this.egSubscriberId,t.lId=this.egListId):"egoiWpBlock"==e?(t[e]=!0,t.lId=this.egListId):t[e]=i;var n=void 0;if(o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3),n="; expires="+s.toGMTString()}else n="";document.cookie="eg_cookie="+JSON.stringify(t)+n+"; path=/; domain="+window.location.host.replace("www.","")}},{key:"openAuthorizePopUp",value:function(){this.popupCenter=window.open(this.appUrl+"webpush/autorization?app="+this.appCode+"&websitepushid="+this.websitePushId,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, rel=opener, scrollbars=no, resizable=no, copyhistory=no, width="+this.popupLayer.width+", height="+this.popupLayer.height+", top="+this.popupLayer.top+", left="+this.popupLayer.left)}},{key:"getBaseRequest",value:function(t,e){var i="https://"+this.appCode+".egoiapp2.com/"+t,o=new XMLHttpRequest;return o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),e&&(o.onload=e),o}},{key:"allowNotification",value:function(t,i){var o=this,n=JSON.stringify({token:t,appCode:this.appCode,browser:e.BROWSER,language:this.language,list:this.list.id,contact:this.egSubscriberId}),s=this.getBaseRequest("webpush/accept-token",function(){if(200===s.status){try{var t=JSON.parse(s.response);"contact"in t&&t.contact!==o.egSubscriberId&&(o.egSubscriberId=t.contact)}catch(t){}if(o.createCookie("_ewp_egoiWebPushAllow_"+o.appCode,"egoiWebPushAllow_"+o.appCode+o.cookieValue,5e4),document.cookie.includes("eg_cookie")){var e=JSON.parse(o.readCookie("eg_cookie"));o.setUniqueCookie(e,"egoiWpAllow",o.cookieValue,5e4)}else o.createUniqueCookie("egoiWpAllow",""+o.appCode,5e4);o.registerSubmission(),window.parent.postMessage({type:"webpush_subscription",payload:""},"*"),i&&i()}o.popupCenter&&o.popupCenter.close()});s.send(n)}},{key:"denyNotification",value:function(){if(this.popupCenter&&this.popupCenter.close(),this.createCookie("_ewp_egoiWebPushBlock_"+this.appCode,"egoiWebPushBlock_"+this.appCode+this.cookieValue,91),document.cookie.includes("eg_cookie")){var t=JSON.parse(this.readCookie("eg_cookie"));this.setUniqueCookie(t,"egoiWpBlock",this.cookieValue,5e4)}else this.createUniqueCookie("egoiWpBlock",""+this.appCode,5e4);this.registerDecline()}},{key:"validateEmail",value:function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email.toLowerCase())}},{key:"mobileCheck",value:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}},{key:"registerSubmission",value:function(){fetch(this.getSubmissionUrl()+"?visitId="+localStorage.getItem("visitId"),{method:"GET"})}},{key:"registerDecline",value:function(){fetch(this.getDeclineUrl()+"?visitId="+localStorage.getItem("visitId"),{method:"GET"})}},{key:"registerVisit",value:function(){this.setVisitId(),fetch(this.getVisitUrl()+"?visitId="+localStorage.getItem("visitId"),{method:"GET"})}},{key:"setVisitId",value:function(){null===localStorage.getItem("visitId")&&localStorage.setItem("visitId",(0,i.v4)())}}]),t}()})?o.apply(e,n):o)||(t.exports=s)},function(t,e,i){"use strict";var o;i.r(e);var n=new Uint8Array(16);function s(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(n)}for(var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(t){return"string"==typeof t&&r.test(t)},c=[],p=0;p<256;++p)c.push((p+256).toString(16).substr(1));var u,l,h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(i))throw TypeError("Stringified UUID is invalid");return i},d=0,b=0,_=function(t,e,i){var o=e&&i||0,n=e||new Array(16),r=(t=t||{}).node||u,a=void 0!==t.clockseq?t.clockseq:l;if(null==r||null==a){var c=t.random||(t.rng||s)();null==r&&(r=u=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=l=16383&(c[6]<<8|c[7]))}var p=void 0!==t.msecs?t.msecs:Date.now(),_=void 0!==t.nsecs?t.nsecs:b+1,f=p-d+(_-b)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||p>d)&&void 0===t.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=p,b=_,l=a;var g=(1e4*(268435455&(p+=122192928e5))+_)%4294967296;n[o++]=g>>>24&255,n[o++]=g>>>16&255,n[o++]=g>>>8&255,n[o++]=255&g;var m=p/4294967296*1e4&268435455;n[o++]=m>>>8&255,n[o++]=255&m,n[o++]=m>>>24&15|16,n[o++]=m>>>16&255,n[o++]=a>>>8|128,n[o++]=255&a;for(var w=0;w<6;++w)n[o+w]=r[w];return e||h(n)},f=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=255&e,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=255&e,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=255&e,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=255&e,i},g=function(t,e,i){function o(t,o,n,s){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}(t)),"string"==typeof o&&(o=f(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var r=new Uint8Array(16+t.length);if(r.set(o),r.set(t,o.length),(r=i(r))[6]=15&r[6]|e,r[8]=63&r[8]|128,n){s=s||0;for(var a=0;a<16;++a)n[s+a]=r[a];return n}return h(r)}try{o.name=t}catch(t){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o};function m(t){return 14+(t+64>>>9<<4)+1}function w(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function v(t,e,i,o,n,s){return w((r=w(w(e,t),w(o,s)))<<(a=n)|r>>>32-a,i);var r,a}function y(t,e,i,o,n,s,r){return v(e&i|~e&o,t,e,n,s,r)}function k(t,e,i,o,n,s,r){return v(e&o|i&~o,t,e,n,s,r)}function x(t,e,i,o,n,s,r){return v(e^i^o,t,e,n,s,r)}function S(t,e,i,o,n,s,r){return v(i^(e|~o),t,e,n,s,r)}var C=g("v3",48,function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],i=32*t.length,o=0;o<i;o+=8){var n=t[o>>5]>>>o%32&255,s=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[m(e)-1]=e;for(var i=1732584193,o=-271733879,n=-1732584194,s=271733878,r=0;r<t.length;r+=16){var a=i,c=o,p=n,u=s;i=y(i,o,n,s,t[r],7,-680876936),s=y(s,i,o,n,t[r+1],12,-389564586),n=y(n,s,i,o,t[r+2],17,606105819),o=y(o,n,s,i,t[r+3],22,-1044525330),i=y(i,o,n,s,t[r+4],7,-176418897),s=y(s,i,o,n,t[r+5],12,1200080426),n=y(n,s,i,o,t[r+6],17,-1473231341),o=y(o,n,s,i,t[r+7],22,-45705983),i=y(i,o,n,s,t[r+8],7,1770035416),s=y(s,i,o,n,t[r+9],12,-1958414417),n=y(n,s,i,o,t[r+10],17,-42063),o=y(o,n,s,i,t[r+11],22,-1990404162),i=y(i,o,n,s,t[r+12],7,1804603682),s=y(s,i,o,n,t[r+13],12,-40341101),n=y(n,s,i,o,t[r+14],17,-1502002290),i=k(i,o=y(o,n,s,i,t[r+15],22,1236535329),n,s,t[r+1],5,-165796510),s=k(s,i,o,n,t[r+6],9,-1069501632),n=k(n,s,i,o,t[r+11],14,643717713),o=k(o,n,s,i,t[r],20,-373897302),i=k(i,o,n,s,t[r+5],5,-701558691),s=k(s,i,o,n,t[r+10],9,38016083),n=k(n,s,i,o,t[r+15],14,-660478335),o=k(o,n,s,i,t[r+4],20,-405537848),i=k(i,o,n,s,t[r+9],5,568446438),s=k(s,i,o,n,t[r+14],9,-1019803690),n=k(n,s,i,o,t[r+3],14,-187363961),o=k(o,n,s,i,t[r+8],20,1163531501),i=k(i,o,n,s,t[r+13],5,-1444681467),s=k(s,i,o,n,t[r+2],9,-51403784),n=k(n,s,i,o,t[r+7],14,1735328473),i=x(i,o=k(o,n,s,i,t[r+12],20,-1926607734),n,s,t[r+5],4,-378558),s=x(s,i,o,n,t[r+8],11,-2022574463),n=x(n,s,i,o,t[r+11],16,1839030562),o=x(o,n,s,i,t[r+14],23,-35309556),i=x(i,o,n,s,t[r+1],4,-1530992060),s=x(s,i,o,n,t[r+4],11,1272893353),n=x(n,s,i,o,t[r+7],16,-155497632),o=x(o,n,s,i,t[r+10],23,-1094730640),i=x(i,o,n,s,t[r+13],4,681279174),s=x(s,i,o,n,t[r],11,-358537222),n=x(n,s,i,o,t[r+3],16,-722521979),o=x(o,n,s,i,t[r+6],23,76029189),i=x(i,o,n,s,t[r+9],4,-640364487),s=x(s,i,o,n,t[r+12],11,-421815835),n=x(n,s,i,o,t[r+15],16,530742520),i=S(i,o=x(o,n,s,i,t[r+2],23,-995338651),n,s,t[r],6,-198630844),s=S(s,i,o,n,t[r+7],10,1126891415),n=S(n,s,i,o,t[r+14],15,-1416354905),o=S(o,n,s,i,t[r+5],21,-57434055),i=S(i,o,n,s,t[r+12],6,1700485571),s=S(s,i,o,n,t[r+3],10,-1894986606),n=S(n,s,i,o,t[r+10],15,-1051523),o=S(o,n,s,i,t[r+1],21,-2054922799),i=S(i,o,n,s,t[r+8],6,1873313359),s=S(s,i,o,n,t[r+15],10,-30611744),n=S(n,s,i,o,t[r+6],15,-1560198380),o=S(o,n,s,i,t[r+13],21,1309151649),i=S(i,o,n,s,t[r+4],6,-145523070),s=S(s,i,o,n,t[r+11],10,-1120210379),n=S(n,s,i,o,t[r+2],15,718787259),o=S(o,n,s,i,t[r+9],21,-343485551),i=w(i,a),o=w(o,c),n=w(n,p),s=w(s,u)}return[i,o,n,s]}(function(t){if(0===t.length)return[];for(var e=8*t.length,i=new Uint32Array(m(e)),o=0;o<e;o+=8)i[o>>5]|=(255&t[o/8])<<o%32;return i}(t),8*t.length))}),O=function(t,e,i){var o=(t=t||{}).random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=o[n];return e}return h(o)};function W(t,e,i,o){switch(t){case 0:return e&i^~e&o;case 1:return e^i^o;case 2:return e&i^e&o^i&o;case 3:return e^i^o}}function I(t,e){return t<<e|t>>>32-e}var A=g("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=[];for(var n=0;n<o.length;++n)t.push(o.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,r=Math.ceil(s/16),a=new Array(r),c=0;c<r;++c){for(var p=new Uint32Array(16),u=0;u<16;++u)p[u]=t[64*c+4*u]<<24|t[64*c+4*u+1]<<16|t[64*c+4*u+2]<<8|t[64*c+4*u+3];a[c]=p}a[r-1][14]=8*(t.length-1)/Math.pow(2,32),a[r-1][14]=Math.floor(a[r-1][14]),a[r-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<r;++l){for(var h=new Uint32Array(80),d=0;d<16;++d)h[d]=a[l][d];for(var b=16;b<80;++b)h[b]=I(h[b-3]^h[b-8]^h[b-14]^h[b-16],1);for(var _=i[0],f=i[1],g=i[2],m=i[3],w=i[4],v=0;v<80;++v){var y=Math.floor(v/20),k=I(_,5)+W(y,f,g,m)+w+e[y]+h[v]>>>0;w=m,m=g,g=I(f,30)>>>0,f=_,_=k}i[0]=i[0]+_>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+g>>>0,i[3]=i[3]+m>>>0,i[4]=i[4]+w>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}),z=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)};i.d(e,"v1",function(){return _}),i.d(e,"v3",function(){return C}),i.d(e,"v4",function(){return O}),i.d(e,"v5",function(){return A}),i.d(e,"NIL",function(){return"00000000-0000-0000-0000-000000000000"}),i.d(e,"version",function(){return z}),i.d(e,"validate",function(){return a}),i.d(e,"stringify",function(){return h}),i.d(e,"parse",function(){return f})},function(t,e,i){var o,n;void 0===(n="function"==typeof(o=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMobileTablet=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},t.isDeviceSupported=function(){return new RegExp("(iphone|ipad|ipod|HuaweiBrowser)","i").test(navigator.userAgent.toLowerCase())||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},t.mobilecheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}})?o.apply(e,[e]):o)||(t.exports=n)},function(t,e,i){var o,n,s;n=[e,i(1)],void 0===(s="function"==typeof(o=function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebpushCustom=void 0;var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),o=function t(e,i,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,o)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(o):void 0};t.WebpushCustom=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.template="solicitation_custom.tpl",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getReplacer",value:function(){return{URI:"https://egoiapp2.com/",EGOI_URL:this.egoiUrl,accept_button_data_bgcolor:this.subscription.accept_button_data.background_color,accept_button_data_color:this.subscription.accept_button_data.color,accept_button_data_text:this.subscription.accept_button_data.text,decline_button_data_text:this.subscription.decline_button_data.text,decline_button_data_bgcolor:this.subscription.decline_button_data.background_color,decline_button_data_color:this.subscription.decline_button_data.color,unsubscribe_button_data_text:this.subscription.unsubscribe_button_data.text,unsubscribe_button_data_bgcolor:this.subscription.unsubscribe_button_data.background_color,unsubscribe_button_data_color:this.subscription.unsubscribe_button_data.color,close_button_data_text:this.subscription.close_button_data.text,close_button_data_bgcolor:this.subscription.close_button_data.background_color,close_button_data_color:this.subscription.close_button_data.color,overall_data_bgcolor:this.subscription.overall_data.background_color,overall_data_primary_color:this.subscription.overall_data.primary_color,overall_data_secondary_color:this.subscription.overall_data.secondary_color,title_data_text:this.subscription.title_data.text,title_data_color:this.subscription.title_data.color,text_data_text:this.subscription.text_data.text,text_data_color:this.subscription.text_data.color,unsubscribe_title_data_text:this.subscription.unsubscribe_title_data.text,unsubscribe_title_data_color:this.subscription.unsubscribe_title_data.color,unsubscribe_text_data_text:this.subscription.unsubscribe_text_data.text,unsubscribe_text_data_color:this.subscription.unsubscribe_text_data.color,consent_enabled:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled?"block":"none",consent_text:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.text?this.data.subscription_pop_up.showing_consent.text:"",consent_text_color:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.text_color?this.data.subscription_pop_up.showing_consent.text_color:"",consent_link_enabled:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link&&this.data.subscription_pop_up.showing_consent.link_text?"inline":"none",consent_link:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link?this.data.subscription_pop_up.showing_consent.link:"",consent_link_text:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link_text?this.data.subscription_pop_up.showing_consent.link_text:"",consent_link_color:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link_color?this.data.subscription_pop_up.showing_consent.link_color:"",icon:this.icon,failsafe_text:this.data.subscription_pop_up.showing_failsafe.text,custom_icon:this.data.subscription_pop_up.custom_data&&this.data.subscription_pop_up.custom.icon?this.data.subscription_pop_up.custom.icon:"icon1",custom_icon_size:this.data.subscription_pop_up.custom_data&&this.data.subscription_pop_up.custom.icon_size?this.data.subscription_pop_up.custom.icon_size:"25",egoi_brand:this.data.subscription_pop_up.egoi_brand?"block":"none",egoi_brand_margin:this.data.subscription_pop_up.egoi_brand?"0":"15px"}}},{key:"render",value:function(t){var e="block";if("allowed"!==this._state&&"denied"!==this._state||(console.info("Egoi Webpush Info: User blocked/allowed Egoi WebPush for Current App"),e="none"),"string"!=typeof t)return console.error("Egoi Webpush Warning: solicitation file missing"),!1;switch("block"===e&&this.registerVisit(),void 0!==this.subscription.overall_data.position&&(this.layerPosition=this.subscription.overall_data.position),this.layerPosition){case"top_left":this.layerPositionCss="top: 0px;left: 0px;";break;case"top_right":this.layerPositionCss="top: 0px;right: 0px;";break;case"top_middle":this.layerPositionCss="top: 0px;left: 49.9%;-webkit-transform: translateX(-50%);transform:translateX(-50%);";break;case"bottom_left":this.layerPositionCss="bottom: 0px; left: 0px;";break;case"bottom_right":this.layerPositionCss="bottom: 0px; right: 0px;";break;case"bottom_middle":this.layerPositionCss="bottom: 0px; left: 49.9%; -webkit-transform: translateX(-50%); transform: translateX(-50%);";break;default:this.layerPositionCss="top: 0px;left: 0px;"}t=this.replaceAllArray(this.getReplacer(),t);var i="235px!important";this.mobileCheck()&&(i="420px!important"),this.createIframe(t,"position: fixed;z-index: 999999999 !important;border-radius: 4px!important;display: "+e+";border: none;background-color: transparent;width: 100%;max-width: 445px;min-width: 320px;min-height: "+i+";max-height: "+i+";height: "+i+"!important;"+this.layerPositionCss);var o="";null!=this._cookieObj&&this._cookieObj.egoiWpAllow?(o="-off",this.removeCookie("egoiWpBlock"),this.updateSubscribe("none"),this.updateUnsubscribe("block")):null!=this._cookieObj&&this._cookieObj.egoiWpBlock&&this.removeCookie("egoiWpAllow"),this.setIcon(o)}},{key:"_removeIframeElement",value:function(){var t=document.getElementById(this.appCode);null!=t&&t.parentNode.removeChild(t)}},{key:"setIcon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.getElementById("egoi-wp-"+this.data.appCode),i=this.data.subscription_pop_up.data.custom_data.icon_size;if(e){var o='<button onclick="sw();" style=border:0;background-color:unset;cursor:pointer;padding:0px;>';switch(this.data.subscription_pop_up.data.custom_data.icon+""+t){case"icon1":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 768 768"><path d="M544 256c0 128.352 30.304 208.64 59.232 256h-438.464c28.928-47.36 59.232-127.648 59.232-256 0-44.192 17.888-84.16 46.848-113.152s68.96-46.848 113.152-46.848 84.16 17.888 113.152 46.848 46.848 68.96 46.848 113.152zM608 256c0-61.856-25.12-117.888-65.6-158.4s-96.544-65.6-158.4-65.6-117.888 25.12-158.4 65.6-65.6 96.544-65.6 158.4c0 196.064-76.576 257.504-82.016 261.568-14.496 9.856-18.336 29.568-8.608 44.192 6.144 9.184 16.192 14.176 26.624 14.24h576c17.664 0 32-14.336 32-32 0-10.848-5.376-20.416-13.728-26.272-5.632-4.16-82.272-65.6-82.272-261.728zM411.68 655.936c-4.448 7.648-11.488 12.768-19.456 14.88s-16.64 1.184-24.288-3.232c-5.184-3.008-9.056-7.104-11.488-11.424-8.768-15.36-28.288-20.704-43.648-11.936s-20.704 28.288-11.936 43.648c8 14.048 19.936 26.336 34.976 35.072 22.912 13.312 49.12 16.032 72.832 9.728s45.088-21.696 58.368-44.608c8.864-15.296 3.648-34.88-11.616-43.744s-34.88-3.648-43.744 11.616z"></path></svg>';break;case"icon1-off":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 768 768"><path d="M411.68 655.936c-4.448 7.648-11.488 12.768-19.456 14.88s-16.64 1.184-24.288-3.232c-5.184-3.008-9.056-7.104-11.488-11.424-8.768-15.36-28.288-20.704-43.648-11.936s-20.704 28.288-11.936 43.648c8 14.048 19.936 26.336 34.976 35.072 22.912 13.312 49.12 16.032 72.832 9.728s45.088-21.696 58.368-44.608c8.864-15.296 3.648-34.88-11.616-43.744s-34.88-3.648-43.744 11.616zM608 255.264c-0.128-61.536-25.088-117.312-65.376-157.696-40.448-40.576-96.448-65.76-158.304-65.856-46.336-0.064-89.568 13.984-124.8 37.76-14.624 9.888-18.496 29.792-8.608 44.448s29.792 18.496 44.448 8.608c24.448-16.512 54.656-26.528 87.36-26.784 46.336 0.352 85.888 18.208 114.592 47.040 28.864 28.96 46.656 68.8 46.688 112.832-1.344 53.056 5.536 111.232 21.28 168.864 4.672 17.056 22.24 27.104 39.296 22.432s27.104-22.24 22.432-39.296c-14.176-52-20.224-104-19.008-150.656 0-0.16 0-0.352 0-0.512 0-0.096 0-0.192 0-0.288zM223.872 269.152l242.88 242.848h-301.984c27.904-45.696 57.056-121.984 59.104-242.848zM9.376 54.624l155.392 155.392c-3.392 15.776-4.96 31.488-4.768 46.4 0 195.648-76.576 257.088-82.016 261.152-14.496 9.856-18.336 29.568-8.608 44.192 6.144 9.184 16.192 14.176 26.624 14.24h434.752l182.624 182.624c12.512 12.512 32.768 12.512 45.248 0s12.512-32.768 0-45.248l-704-704c-12.512-12.512-32.768-12.512-45.248 0s-12.512 32.768 0 45.248z"></path></svg>';break;case"icon2":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 448 448"><path d="M228 424c0-2.25-1.75-4-4-4-19.75 0-36-16.25-36-36 0-2.25-1.75-4-4-4s-4 1.75-4 4c0 24.25 19.75 44 44 44 2.25 0 4-1.75 4-4zM61.5 352h325c-44.75-50.5-66.5-119-66.5-208 0-32.25-30.5-80-96-80s-96 47.75-96 80c0 89-21.75 157.5-66.5 208zM432 352c0 17.5-14.5 32-32 32h-112c0 35.25-28.75 64-64 64s-64-28.75-64-64h-112c-17.5 0-32-14.5-32-32 37-31.25 80-87.25 80-208 0-48 39.75-100.5 106-110.25-1.25-3-2-6.25-2-9.75 0-13.25 10.75-24 24-24s24 10.75 24 24c0 3.5-0.75 6.75-2 9.75 66.25 9.75 106 62.25 106 110.25 0 120.75 43 176.75 80 208z"></path></svg>';break;case"icon2-off":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 512 448"><path d="M260 424c0-2.25-1.75-4-4-4-19.75 0-36-16.25-36-36 0-2.25-1.75-4-4-4s-4 1.75-4 4c0 24.25 19.75 44 44 44 2.25 0 4-1.75 4-4zM125.75 305.25l219.25-190c-12.5-26.25-41.5-51.25-89-51.25-65.5 0-96 47.75-96 80 0 64-11.25 117.5-34.25 161.25zM464 352c0 17.5-14.5 32-32 32h-112c0 35.25-28.75 64-64 64s-63.75-28.5-64-63.75l37.25-32.25h189.25c-27.75-31.25-46.5-69.25-56.75-114.75l27.75-24.25c12.75 74.5 45.5 114.5 74.5 139zM485.5 4l21 24c2.75 3.5 2.5 8.5-0.75 11.5l-468 405.5c-3.25 2.75-8.5 2.5-11.25-1l-21-24c-2.75-3.5-2.5-8.5 0.75-11.25l46.5-40.25c-3-5-4.75-10.5-4.75-16.5 37-31.25 80-87.25 80-208 0-48 39.75-100.5 106-110.25-1.25-3-2-6.25-2-9.75 0-13.25 10.75-24 24-24s24 10.75 24 24c0 3.5-0.75 6.75-2 9.75 43 6.25 74.75 30.5 91.75 60l104.5-90.75c3.25-2.75 8.5-2.5 11.25 1z"></path></svg>';break;case"icon3":o=o+'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 512 512"><path d="M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 01-128 0v-16" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>';break;case"icon3-off":o=o+'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 512 512"><path d="M128.51 204.59q-.37 6.15-.37 12.76C128.14 304 110 320 84.33 351.43 73.69 364.45 83 384 101.62 384H320M414.5 335.3c-18.48-23.45-30.62-47.05-30.62-118 0-79.3-40.52-107.57-73.88-121.3-4.43-1.82-8.6-6-9.95-10.55C294.21 65.54 277.82 48 256 48s-38.2 17.55-44 37.47c-1.35 4.6-5.52 8.71-10 10.53a149.57 149.57 0 00-18 8.79M320 384v16a64 64 0 01-128 0v-16" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M448 448L64 64"/></svg>';break;case"icon4":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 448 448"><path d="M228 424c0-2.25-1.75-4-4-4-19.75 0-36-16.25-36-36 0-2.25-1.75-4-4-4s-4 1.75-4 4c0 24.25 19.75 44 44 44 2.25 0 4-1.75 4-4zM432 352c0 17.5-14.5 32-32 32h-112c0 35.25-28.75 64-64 64s-64-28.75-64-64h-112c-17.5 0-32-14.5-32-32 37-31.25 80-87.25 80-208 0-48 39.75-100.5 106-110.25-1.25-3-2-6.25-2-9.75 0-13.25 10.75-24 24-24s24 10.75 24 24c0 3.5-0.75 6.75-2 9.75 66.25 9.75 106 62.25 106 110.25 0 120.75 43 176.75 80 208z"></path></svg>';break;case"icon4-off":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 512 448"><path d="M389.5 213c12.75 74.5 45.5 114.5 74.5 139 0 17.5-14.5 32-32 32h-112c0 35.25-28.75 64-64 64s-63.75-28.5-64-63.75zM256 428c2.25 0 4-1.75 4-4s-1.75-4-4-4c-19.75 0-36-16.25-36-36 0-2.25-1.75-4-4-4s-4 1.75-4 4c0 24.25 19.75 44 44 44zM506.5 28c2.75 3.5 2.5 8.5-0.75 11.5l-468 405.5c-3.25 2.75-8.5 2.5-11.25-1l-21-24c-2.75-3.5-2.5-8.5 0.75-11.25l46.5-40.25c-3-5-4.75-10.5-4.75-16.5 37-31.25 80-87.25 80-208 0-48 39.75-100.5 106-110.25-1.25-3-2-6.25-2-9.75 0-13.25 10.75-24 24-24s24 10.75 24 24c0 3.5-0.75 6.75-2 9.75 43 6.25 74.75 30.5 91.75 60l104.5-90.75c3.25-2.75 8.5-2.5 11.25 1z"></path></svg>';break;case"icon5":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 1024 1024"><path d="M864.416 808.896v58.4h-704.832v-58.4c0 0-15.072-32.288 66.72-109.728 81.728-77.408 70.976-277.504 70.976-413.024s190.336-138.4 190.336-138.4h6.528c0 0.064 0-0.928 0-22.016 0-13.536-45.44-62.56-45.44-62.56l-0.672-29.664h128.32l-0.864 30.784c0 0-49.248 48.992-49.248 63.424 0 13.952 0 18.624 0 20h10.144c0 0 190.336 2.88 190.336 138.4s-10.752 335.648 71.008 413.088 66.688 109.696 66.688 109.696zM592.384 898.24c0 44.32-35.904 92.256-80.192 92.256s-80.192-47.936-80.192-92.256c0 0.992 160.384-1.024 160.384 0z"></path></svg>';break;case"icon5-off":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 1024 1024"><path d="M889.344 808.896l0.032 58.4h-667.84l529.824-529.856c-0.96 130.528-0.672 293.632 71.296 361.76 81.76 77.44 66.688 109.696 66.688 109.696zM133.568 863.36l680.48-680.448 22.656 22.688-680.448 680.448-22.688-22.688zM251.264 699.2c81.76-77.44 71.008-277.504 71.008-413.056s190.336-138.4 190.336-138.4h6.496c0 0.064 0-0.928 0-22.016 0-13.536-45.44-62.56-45.44-62.56l-0.672-29.664h128.32l-0.896 30.784c0 0-49.216 48.992-49.216 63.424 0 13.952 0 18.624 0 20h10.144c0 0 121.632 2.048 170.336 72.16l-509.088 509.12c7.968-9.12 17.152-18.912 28.672-29.792zM617.344 898.24c0 44.32-35.904 92.256-80.192 92.256-44.32 0-80.224-47.936-80.224-92.256 0 0.992 160.416-1.024 160.416 0z"></path></svg>';break;case"icon6":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 768 768"><path d="M576 511.5l64.5 64.5v31.5h-513v-31.5l64.5-64.5v-159q0-75 38.25-130.5t105.75-72v-22.5q0-19.5 13.5-33.75t34.5-14.25 34.5 14.25 13.5 33.75v22.5q67.5 16.5 105.75 72t38.25 130.5v159zM384 703.5q-27 0-45.75-18t-18.75-45h129q0 25.5-19.5 44.25t-45 18.75z"></path></svg>';break;case"icon6-off":o=o+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#364656" width="'+i+'" height="'+i+'" viewBox="0 0 768 768"><path d="M576 469.5l-286.5-301.5q4.5-1.5 12-5.25l10.5-5.25h1.5l9-4.5q1.5 0 6-1.5t7.5-1.5v-22.5q0-19.5 13.5-33.75t34.5-14.25 34.5 14.25 13.5 33.75v22.5q67.5 16.5 105.75 72t38.25 130.5v117zM384 703.5q-27 0-45.75-18t-18.75-45h129q0 27-18.75 45t-45.75 18zM250.5 196.5q36 37.5 188.25 193.5t233.25 241.5l-40.5 40.5-64.5-64.5h-439.5v-31.5l64.5-64.5v-160.5q0-61.5 25.5-109.5l-90-88.5 40.5-42z"></path></svg>'}o+="</button>",e.innerHTML=o}}},{key:"showWindow",value:function(){var t=document.getElementById(this.data.appCode),i=t.getAttribute("style").replace("none","block");t.setAttribute("style",i),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"registerVisit",this).call(this)}},{key:"hideWindow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.getElementById(this.data.appCode),i=e.getAttribute("style").replace("block","none");e.setAttribute("style",i),this.setIcon(t)}},{key:"openAuthorizePopUp",value:function(){this.hideWindow(),this.setIcon("-off"),null!=this._cookieObj&&this.removeCookie("egoiWpBlock"),this.updateSubscribe("none"),this.updateUnsubscribe("block"),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"openAuthorizePopUp",this).call(this),this._state="allowed"}},{key:"denyNotification",value:function(){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"denyNotification",this).call(this),this._state="denied",this.data.subscription_pop_up.showing_failsafe&&this.data.subscription_pop_up.showing_failsafe.enabled){this.updateSubscribe("none");var t=!1;this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled&&(t=!0),this.mobileCheck()?t?this.setWindowSize(420):this.setWindowSize(385):t?this.setWindowSize(336):this.setWindowSize(294),this.updateFailsafe("block")}else this.hideWindow()}},{key:"denyFailsafe",value:function(){this.updateSubscribe("block"),this.updateFailsafe("none"),this.hideWindow(),this._state="denied",this.mobileCheck()?this.setWindowSize(318):this.setWindowSize(235)}},{key:"updateSubscriber",value:function(){this.consent=0;var t=this._iframe.contentDocument.querySelector("#consent"),e=this._iframe.contentDocument.querySelector("#email");if(this.email=e.value,this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled){var i=this._iframe.contentDocument.querySelector("#consent-label");if(this.consent=t.checked,!t.checked)return-1===i.getAttribute("style").search("color:red;")&&i.setAttribute("style","color: red;"),!1;this.consent=1,i.setAttribute("style","color:"+this.consent_text_color)}if(!this.validateEmail())return-1===e.getAttribute("style").search("border:1px solid red;")&&e.setAttribute("style",e.getAttribute("style")+"border:1px solid red;"),!1;var o=JSON.stringify({appCode:this.appCode,list:this.list.id,contact:this.egSubscriberId,email:this.email,consent:this.consent}),n=this.getBaseRequest("webpush/updatesubscriber",function(){});e.value="",t.checked=!1,n.send(o),this._state="denied",this.updateSubscribe("block"),this.updateFailsafe("none"),this.hideWindow(),this.mobileCheck()?this.setWindowSize(318):this.setWindowSize(235)}},{key:"removeSubscription",value:function(){var t=this;window.open(this.appUrl+"remove.html","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000, top=10000, width=1, height=1, visible=none","");var i=JSON.stringify({appCode:this.appCode,list:this.list.id,contact:this.egSubscriberId}),n=this.getBaseRequest("webpush/unsubscribe",function(){if(200===n.status){if(null!=t._cookieObj&&t.removeCookie("egoiWpAllow"),t.createCookie("_ewp_egoiWebPushBlock_"+t.appCode,"egoiWebPushBlock_"+t.appCode+t.cookieValue,91),null!=t._cookieObj?t.setUniqueCookie(t._cookieObj,"egoiWpBlock",t.cookieValue,5e4):t.createUniqueCookie("egoiWpBlock",""+t.appCode,5e4),t._state="denied",t.updateUnsubscribe("none"),t.data.subscription_pop_up.showing_failsafe&&t.data.subscription_pop_up.showing_failsafe.enabled){var e=!1;t.data.subscription_pop_up.showing_consent&&t.data.subscription_pop_up.showing_consent.enabled&&(e=!0),t.mobileCheck()?e?t.setWindowSize(420):t.setWindowSize(385):e?t.setWindowSize(336):t.setWindowSize(294),t.updateFailsafe("block"),t._changeState("failsafe"),t.temporaryEgSubscriberId=t.egSubscriberId,t.egSubscriberId=""}else t.updateSubscribe("block"),t.hideWindow();t.setIcon("")}});n.send(i),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"registerDecline",this).call(this)}},{key:"updateSubscribe",value:function(t){this._iframe.contentDocument.querySelector(".subscribe").setAttribute("style","display: "+t)}},{key:"updateUnsubscribe",value:function(t){this._iframe.contentDocument.querySelector(".unsubscribe").setAttribute("style","display: "+t)}},{key:"updateFailsafe",value:function(t){this._iframe.contentDocument.querySelector(".failsafe").setAttribute("style","display: "+t)}},{key:"setWindowSize",value:function(t){var e=this._iframe,i=e.getAttribute("style")+"min-height:"+t+"px!important;min-height:"+t+"px!important;";e.setAttribute("style",i);var o=this._iframe.contentDocument.querySelector(".webPushSolicitation"),n=o.getAttribute("style")+"height: "+t+"px;";o.setAttribute("style",n)}}]),e}(e.WebpushCommon)})?o.apply(e,n):o)||(t.exports=s)},function(t,e,i){var o,n,s;n=[e,i(1)],void 0===(s="function"==typeof(o=function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebpushFloat=void 0;var i=function t(e,i,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,o)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(o):void 0},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n={subscribe:{width:340,height:512},unsubscribe:{width:340,height:512}},s={subscribe:{width:80,height:70},unsubscribe:{width:60,height:50}},r=!1,a="block",c="none";t.WebpushFloat=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._isOpen=!1,i.template="solicitation_float.tpl",setTimeout(function(){return i._checkIframeSize()},50),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"isOpen",set:function(t){this._iframe.contentDocument.getElementById("wpContainer").style.display=t?"block":"none",this._isOpen=t,this._checkIframeSize(),"allowed"===this._state&&this._buttonFocus(t)},get:function(){return this._isOpen}}]),o(e,[{key:"_changeState",value:function(t){var o=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_changeState",this).call(this,t),setTimeout(function(){o._buttonFocus("allowed"!==o._state),o._checkIframeSize()},50)}},{key:"_verifyContainers",value:function(){var t=this,e=this._iframe.contentDocument.querySelectorAll("div[data-state]");e&&e.forEach(function(e){var i=e.dataset.state.split(",");e.style.display=-1!==i.indexOf(t._state)?"block":"none"})}},{key:"_buttonFocus",value:function(t){if(this._iframe){var e=this._iframe.contentDocument.querySelector(".fabButton");if(e){var i=e.getElementsByTagName("svg")[0],o=e.getElementsByTagName("svg")[1];r?(i.setAttribute("style","display:none;"),t?(o.setAttribute("style","display:block;width:40px;height:auto;"),e.classList.remove("disabled")):(o.setAttribute("style","display:block;width:28px;height:auto;margin:5px 2px"),e.classList.add("disabled"))):(o.setAttribute("style","display:none;"),t?(i.setAttribute("style","display:block;width:40px;height:auto;"),e.classList.remove("disabled")):(i.setAttribute("style","display:block;width:28px;height:auto;margin:5px 2px"),e.classList.add("disabled")))}}}},{key:"_checkIframeSize",value:function(){var t="allowed"!==this._state?"subscribe":"unsubscribe";this.isOpen?this._resizeIframe(n[t]):this._resizeIframe(s[t])}},{key:"_resizeIframe",value:function(t){this._iframe&&(this._iframe.style.width=t.width+"px",this._iframe.style["min-height"]=t.height+"px",this._iframe.style.height=t.height+"px")}},{key:"getReplacer",value:function(){return{URI:"https://egoiapp2.com/",EGOI_URL:this.egoiUrl,accept_button_data_text:this.subscription.accept_button_data.text,overall_data_bgcolor:this.subscription.overall_data.background_color,overall_data_primary_color:this.subscription.overall_data.primary_color,overall_data_secondary_color:this.subscription.overall_data.secondary_color,position_data:this.layerPosition,title_data_text:this.subscription.title_data.text,title_data_color:this.subscription.title_data.color,text_data_text:this.subscription.text_data.text,text_data_color:this.subscription.text_data.color,unsubscribe_button_data_text:this.subscription.unsubscribe_button_data.text,unsubscribe_title_data_text:this.subscription.unsubscribe_title_data.text,unsubscribe_title_data_color:this.subscription.unsubscribe_title_data.color,icon:this.icon,failsafe_text:this.data.subscription_pop_up.showing_failsafe.text,consent_enabled:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled?"block":"none",consent_text:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.text?this.data.subscription_pop_up.showing_consent.text:"",consent_text_color:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.text_color?this.data.subscription_pop_up.showing_consent.text_color:"",consent_link_enabled:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link&&this.data.subscription_pop_up.showing_consent.link_text?"inline":"none",consent_link:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link?this.data.subscription_pop_up.showing_consent.link:"",consent_link_text:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link_text?this.data.subscription_pop_up.showing_consent.link_text:"",consent_link_color:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link_color?this.data.subscription_pop_up.showing_consent.link_color:"",egoi_brand:this.data.subscription_pop_up.egoi_brand?"block":"none",egoi_brand_margin:this.data.subscription_pop_up.egoi_brand?"0":"15px",activeDisplay:a,inactiveDisplay:c}}},{key:"render",value:function(t){if("string"!=typeof t)return console.error("Egoi Webpush Warning: solicitation file missing"),!1;switch(void 0!==this.subscription.overall_data.position&&(this.layerPosition=this.subscription.overall_data.position),this.layerPosition){case"bottom_right":this.layerPositionCss="bottom: 20px; right: 20px;";break;case"bottom_left":this.layerPositionCss="bottom: 20px; left: 20px;";break;default:this.layerPositionCss="bottom: 20px; left: 20px;"}null!=this._cookieObj&&this._cookieObj.egoiWpAllow&&(a="none",c="block",r=!0),t=this.replaceAllArray(this.getReplacer(),t),this.createIframe(t,"position: fixed;z-index: 999999999 !important;display: block;border: none;background-color: transparent;width: 350px;min-height: 512px;height: auto;"+this.layerPositionCss),this._buttonFocus(!r)}},{key:"open",value:function(){this._verifyContainers(),this.isOpen=!this.isOpen,this.isOpen&&"subscribe"===i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"state",this)&&i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"registerVisit",this).call(this)}},{key:"openAuthorizePopUp",value:function(){this.open(),r=!0,this._buttonFocus(!r),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"openAuthorizePopUp",this).call(this)}},{key:"allowNotification",value:function(t){var o=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"allowNotification",this).call(this,t,function(){return o._changeState("allowed")})}},{key:"removeSubscription",value:function(){var t=this;window.open(this.appUrl+"remove.html","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000, top=10000, width=1, height=1, visible=none","");var o=JSON.stringify({appCode:this.appCode,list:this.list.id,contact:this.egSubscriberId}),n=this.getBaseRequest("webpush/unsubscribe",function(){if(200===n.status){if(t.removeCookie("egoiWpAllow"),t.data.subscription_pop_up.showing_failsafe.enabled)t.open(),t._changeState("failsafe"),t.temporaryEgSubscriberId=t.egSubscriberId,t.egSubscriberId="",t.open();else if(t._iframe){var e=t._iframe.contentDocument.querySelector(".webPushFloatButtons"),i=t._iframe.contentDocument.querySelector(".webPushSvg");e&&i&&(e.setAttribute("style","display: none;"),i.setAttribute("style","display:block; margin: 20px auto;"),setTimeout(function(){var e=t._iframe.contentDocument.querySelector(".webPushFloatButtons"),i=t._iframe.contentDocument.querySelector(".webPushSvg");e.setAttribute("style","display: block;"),i.setAttribute("style","display:none; margin: 0 auto;"),t.open(),t._changeState("subscribe"),t.egSubscriberId=""},3e3))}else t._changeState("subscribe");r=!1}});i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"registerDecline",this).call(this),n.send(o)}},{key:"updateSubscriber",value:function(){var t=this;this.consent=0;var e=this._iframe.contentDocument.querySelector("#email");if(this.email=e.value,this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled){var i=this._iframe.contentDocument.querySelector("#consent"),o=this._iframe.contentDocument.querySelector("#consent-label");if(this.consent=i.checked,!i.checked)return-1===o.getAttribute("style").search("color:red;")&&o.setAttribute("style","display:block; width: 100%; margin-left: 1px; text-align: left; color: red;"),!1;this.consent=1,o.setAttribute("style","display:block; width: 100%; margin-left: 1px; text-align: left; color: "+this.consent_text_color+";")}if(!this.validateEmail())return-1===e.getAttribute("style").search("border:1px solid red;")&&e.setAttribute("style",e.getAttribute("style")+"border:1px solid red;"),!1;var n=JSON.stringify({appCode:this.appCode,list:this.list.id,contact:this.temporaryEgSubscriberId,email:this.email,consent:this.consent}),s=this.getBaseRequest("webpush/updatesubscriber",function(){if(200===s.status)if(t._iframe){var e=t._iframe.contentDocument.querySelector("#failsafeButton"),i=t._iframe.contentDocument.querySelector("#webPushSvg"),o=t._iframe.contentDocument.querySelector("#failsafeTexts");e&&i&&(e.setAttribute("style","display: none;"),i.setAttribute("style","display:block; margin: 30px auto;"),o.setAttribute("style","display: none;"),setTimeout(function(){var e=t._iframe.contentDocument.querySelector(".webPushFloatButtons"),i=t._iframe.contentDocument.querySelector(".webPushSvg");e.setAttribute("style","display: block;"),i.setAttribute("style","display:none; margin: 0 auto;"),t.open(),t._changeState("subscribe"),t.egSubscriberId=t.temporaryEgSubscriberId},3e3))}else t._changeState("subscribe")});s.send(n)}}]),e}(e.WebpushCommon)})?o.apply(e,n):o)||(t.exports=s)},function(t,e,i){var o,n,s;n=[e,i(1)],void 0===(s="function"==typeof(o=function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebpushDefault=void 0;var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),o=function t(e,i,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,o)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(o):void 0};t.WebpushDefault=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.template="solicitation_default.tpl",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getReplacer",value:function(){return{URI:"https://egoiapp2.com/",EGOI_URL:this.egoiUrl,accept_button_data_bgcolor:this.subscription.accept_button_data.background_color,accept_button_data_color:this.subscription.accept_button_data.color,accept_button_data_text:this.subscription.accept_button_data.text,decline_button_data_text:this.subscription.decline_button_data.text,decline_button_data_bgcolor:this.subscription.decline_button_data.background_color,decline_button_data_color:this.subscription.decline_button_data.color,unsubscribe_button_data_text:this.subscription.unsubscribe_button_data.text,unsubscribe_button_data_bgcolor:this.subscription.unsubscribe_button_data.background_color,unsubscribe_button_data_color:this.subscription.unsubscribe_button_data.color,close_button_data_text:this.subscription.close_button_data.text,close_button_data_bgcolor:this.subscription.close_button_data.background_color,close_button_data_color:this.subscription.close_button_data.color,overall_data_bgcolor:this.subscription.overall_data.background_color,overall_data_primary_color:this.subscription.overall_data.primary_color,overall_data_secondary_color:this.subscription.overall_data.secondary_color,title_data_text:this.subscription.title_data.text,title_data_color:this.subscription.title_data.color,text_data_text:this.subscription.text_data.text,text_data_color:this.subscription.text_data.color,consent_enabled:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled?"block":"none",consent_text:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.text?this.data.subscription_pop_up.showing_consent.text:"",consent_text_color:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.text_color?this.data.subscription_pop_up.showing_consent.text_color:"",consent_link_enabled:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link&&this.data.subscription_pop_up.showing_consent.link_text?"inline":"none",consent_link:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link?this.data.subscription_pop_up.showing_consent.link:"",consent_link_text:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link_text?this.data.subscription_pop_up.showing_consent.link_text:"",consent_link_color:this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.link_color?this.data.subscription_pop_up.showing_consent.link_color:"",icon:this.icon,failsafe_text:this.data.subscription_pop_up.showing_failsafe.text,custom_icon:this.data.subscription_pop_up.custom_data&&this.data.subscription_pop_up.custom.icon?this.data.subscription_pop_up.custom.icon:"icon1",custom_icon_size:this.data.subscription_pop_up.custom_data&&this.data.subscription_pop_up.custom.icon_size?this.data.subscription_pop_up.custom.icon_size:"25",egoi_brand:this.data.subscription_pop_up.egoi_brand?"block":"none",egoi_brand_margin:this.data.subscription_pop_up.egoi_brand?"0":"15px"}}},{key:"render",value:function(t){var e="block";if("allowed"!==this._state&&"denied"!==this._state||(console.info("Egoi Webpush Info: User blocked/allowed Egoi WebPush for Current App"),e="none"),"string"!=typeof t)return console.error("Egoi Webpush Warning: solicitation file missing"),!1;switch("block"===e&&this.registerVisit(),void 0!==this.subscription.overall_data.position&&(this.layerPosition=this.subscription.overall_data.position),this.layerPosition){case"top_left":this.layerPositionCss="top: 0px;left: 0px;";break;case"top_right":this.layerPositionCss="top: 0px;right: 0px;";break;case"top_middle":this.layerPositionCss="top: 0px;left: 49.9%;-webkit-transform: translateX(-50%);transform:translateX(-50%);";break;case"bottom_left":this.layerPositionCss="bottom: 0px; left: 0px;";break;case"bottom_right":this.layerPositionCss="bottom: 0px; right: 0px;";break;case"bottom_middle":this.layerPositionCss="bottom: 0px; left: 49.9%; -webkit-transform: translateX(-50%); transform: translateX(-50%);";break;default:this.layerPositionCss="top: 0px;left: 0px;"}t=this.replaceAllArray(this.getReplacer(),t);var i="235px!important";this.mobileCheck()&&(i="420px!important"),this.createIframe(t,"position: fixed;z-index: 999999999 !important;border-radius: 4px!important;display: "+e+";border: none;background-color: transparent;width: 100%;max-width: 445px;min-width: 320px;min-height: "+i+";max-height: "+i+";height: "+i+"!important;"+this.layerPositionCss),null!=this._cookieObj&&this._cookieObj.egoiWpAllow?(this.removeCookie("egoiWpBlock"),this.updateSubscribe("none")):null!=this._cookieObj&&this._cookieObj.egoiWpBlock&&this.removeCookie("egoiWpAllow")}},{key:"_removeIframeElement",value:function(){var t=document.getElementById(this.appCode);null!=t&&t.parentNode.removeChild(t)}},{key:"openAuthorizePopUp",value:function(){this.hideWindow(),null!=this._cookieObj&&this.removeCookie("egoiWpBlock"),this.updateSubscribe("none"),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"openAuthorizePopUp",this).call(this),this._state="allowed"}},{key:"denyNotification",value:function(){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"denyNotification",this).call(this),this._state="denied",this.data.subscription_pop_up.showing_failsafe&&this.data.subscription_pop_up.showing_failsafe.enabled){this.updateSubscribe("none");var t=!1;this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled&&(t=!0),this.mobileCheck()?t?this.setWindowSize(420):this.setWindowSize(385):t?this.setWindowSize(336):this.setWindowSize(294),this.updateFailsafe("block")}else this.hideWindow()}},{key:"denyFailsafe",value:function(){this.updateSubscribe("block"),this.updateFailsafe("none"),this.hideWindow(),this._state="denied",this.mobileCheck()?this.setWindowSize(318):this.setWindowSize(235)}},{key:"updateSubscriber",value:function(){this.consent=0;var t=this._iframe.contentDocument.querySelector("#consent"),e=this._iframe.contentDocument.querySelector("#email");if(this.email=e.value,this.data.subscription_pop_up.showing_consent&&this.data.subscription_pop_up.showing_consent.enabled){var i=this._iframe.contentDocument.querySelector("#consent-label");if(this.consent=t.checked,!t.checked)return-1===i.getAttribute("style").search("color:red;")&&i.setAttribute("style","color: red;"),!1;this.consent=1,i.setAttribute("style","color:"+this.consent_text_color)}if(!this.validateEmail())return-1===e.getAttribute("style").search("border:1px solid red;")&&e.setAttribute("style",e.getAttribute("style")+"border:1px solid red;"),!1;var o=JSON.stringify({appCode:this.appCode,list:this.list.id,contact:this.egSubscriberId,email:this.email,consent:this.consent}),n=this.getBaseRequest("webpush/updatesubscriber",function(){});e.value="",t.checked=!1,n.send(o),this._state="denied",this.updateSubscribe("block"),this.updateFailsafe("none"),this.hideWindow(),this.mobileCheck()?this.setWindowSize(318):this.setWindowSize(235)}},{key:"removeSubscription",value:function(){var t=this;window.open(this.appUrl+"remove.html","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000, top=10000, width=1, height=1, visible=none","");var i=JSON.stringify({appCode:this.appCode,list:this.list.id,contact:this.egSubscriberId}),n=this.getBaseRequest("webpush/unsubscribe",function(){200===n.status&&(null!=t._cookieObj&&t.removeCookie("egoiWpAllow"),t.createCookie("_ewp_egoiWebPushBlock_"+t.appCode,"egoiWebPushBlock_"+t.appCode+t.cookieValue,91),null!=t._cookieObj?t.setUniqueCookie(t._cookieObj,"egoiWpBlock",t.cookieValue,5e4):t.createUniqueCookie("egoiWpBlock",""+t.appCode,5e4),t._state="denied",t.data.subscription_pop_up.showing_failsafe&&t.data.subscription_pop_up.showing_failsafe.enabled?(t.mobileCheck()?t.setWindowSize(420):t.setWindowSize(336),t.updateFailsafe("block"),t._changeState("failsafe"),t.temporaryEgSubscriberId=t.egSubscriberId,t.egSubscriberId=""):(t.updateSubscribe("block"),t.hideWindow()))});n.send(i),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"registerDecline",this).call(this)}},{key:"hideWindow",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=document.getElementById(this.data.appCode),e=t.getAttribute("style").replace("block","none");t.setAttribute("style",e)}},{key:"updateSubscribe",value:function(t){this._iframe.contentDocument.querySelector(".subscribe").setAttribute("style","display: "+t)}},{key:"updateFailsafe",value:function(t){this._iframe.contentDocument.querySelector(".failsafe").setAttribute("style","display: "+t)}},{key:"setWindowSize",value:function(t){var e=this._iframe,i=e.getAttribute("style")+"min-height:"+t+"px!important;min-height:"+t+"px!important;";e.setAttribute("style",i);var o=this._iframe.contentDocument.querySelector(".webPushSolicitation"),n=o.getAttribute("style")+"height: "+t+"px;";o.setAttribute("style",n)}}]),e}(e.WebpushCommon)})?o.apply(e,n):o)||(t.exports=s)},function(t,e,i){var o,n,s;n=[e,i(6),i(5),i(4),i(0)],void 0===(s="function"==typeof(o=function(t,e,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EgoiWebpush=void 0;var s=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();t.EgoiWebpush=function(){function t(s){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.readFile("https://egoiapp2.com/wp/files/"+s,function(t){var c=null;try{c=JSON.parse(t)}catch(t){return console.error("Egoi Webpush Warning: configurations missing"),!1}if("object"!==(void 0===c?"undefined":r(c)))return console.error("Egoi Webpush Warning: configurations missing"),!1;switch(c.subscription_pop_up.type){case"float":a.webpush=new i.WebpushFloat(c);break;case"default":a.webpush=new e.WebpushDefault(c);break;case"custom":a.webpush=new o.WebpushCustom(c)}return void 0===a.webpush?(console.error("Egoi Webpush Warning: configurations missing"),!1):void 0===a.webpush.appCode?(console.error("Egoi Webpush Warning: configurations missing"),!1):a.webpush.appCode!=s?(console.error("Egoi Webpush Warning: configurations missing"),!1):(void 0===c.subscription_pop_up.showing_frequency||!c.subscription_pop_up.showing_frequency.enabled||!1!==a.checkFrequency(c.subscription_pop_up.showing_frequency))&&("safari"!==n.BROWSER||void 0!==c.websitePushId&&""!==c.websitePushId?void(void 0!==c.subscription_pop_up.showing_condition?a.checkCondition(c.subscription_pop_up.showing_condition):a.startApp()):(console.error("Egoi Webpush Warning: app not configured for safari"),!1))})}return a(t,[{key:"listen",value:function(){var t=this;window.addEventListener("message",function(e){"object"===r(e.data)&&("action"in e.data&&"deny_notification"===e.data.action&&t.webpush.denyNotification(),"action"in e.data&&"allow_notification"===e.data.action&&"wp_token"in e.data&&t.webpush.allowNotification(e.data.wp_token),"action"in e.data&&"egoi_opened_custom_invite"===e.data.action&&"allowed"!==t.webpush.state&&t.webpush.registerVisit())})}},{key:"readFile",value:function(t,e){var i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&"200"==i.status&&e(i.responseText),4===i.readyState&&"404"==i.status&&e("error_file_not_found")},i.send(null)}},{key:"loadEgoimmerceData",value:function(){var t=document.cookie,e={};if(/^|;\s*_pk_Subscriber[0-9]{4}\=[^;]+;/.test(t)&&/^|;\s*_pk_ListId[0-9]{4}\=[^;]+;/.test(t)){for(var i=t.split(";"),o=0;o<i.length;o++){var n=i[o].split("=");n[0]=n[0].replace(/^ /,""),e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}for(var s in e)0==s.indexOf("_pk_Subscriber")&&(this.webpush.egSubscriberId=e[s]),0==s.indexOf("_pk_ListId")&&(this.webpush.egListId=e[s])}}},{key:"loadWebPushData",value:function(){var t=this;document.cookie.split(";").filter(function(t){return-1!=t.indexOf("egoi")}).forEach(function(e){var i=e.split("="),o=s(i,2),n=(o[0],o[1]);if(n){var r=n.split("_"),a=s(r,4),c=(a[0],a[1],a[2]),p=a[3];c&&(t.webpush.egSubscriberId=c),p&&(t.webpush.egListId=p)}})}},{key:"startApp",value:function(){var t=this;this.loadWebPushData(),""===this.webpush.egSubscriberId&&this.loadEgoimmerceData(),this.readFile(this.webpush.templateURL,function(e){return t.webpush.render(e)})}},{key:"checkCondition",value:function(t){var e=this,i=void 0;switch(t.condition){case"delay":setTimeout(function(){e.startApp()},1e3*t.value);break;case"center_page":i=this,window.addEventListener("scroll",function t(){window.scrollY+window.innerHeight/2>=document.body.scrollHeight/2&&(i.startApp(),window.removeEventListener("scroll",t))});break;case"end_page":i=this,window.addEventListener("scroll",function t(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(i.startApp(),window.removeEventListener("scroll",t))});break;case"custom":i=this,window.addEventListener("scroll",function e(){var o=document.body.scrollHeight*t.value/100;(window.scrollY+window.innerHeight/2>=o||window.innerHeight+window.scrollY>=document.body.offsetHeight)&&(i.startApp(),window.removeEventListener("scroll",e))});break;case"top_page":default:this.startApp()}}},{key:"checkFrequency",value:function(t){var e=new Date;if(null!=this.webpush._cookieObj){var i=this.webpush._cookieObj.wpFreq;if(null!=i){if(e.getTime()-i<24*t.value*60*60*1e3)return!1;this.webpush.removeCookie("wpFreq")}this._webpush.setUniqueCookie(this.webpush._cookieObj,"wpFreq",e.getTime(),5e4)}return this.webpush.createCookie("_ewp_egoiWebPushFrequency_"+this.webpush.appCode,e.getTime(),91),this.webpush.createUniqueCookie("wpFreq",e.getTime(),5e4),!0}},{key:"webpush",get:function(){return this._webpush},set:function(t){this._webpush=t}}]),t}()})?o.apply(e,n):o)||(t.exports=s)},function(t,e,i){var o,n,s;n=[i(7),i(0),i(3)],void 0===(s="function"==typeof(o=function(t,e,i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=!1;if(("chrome"!=e.BROWSER&&"firefox"!=e.BROWSER&&"opera"!=e.BROWSER&&"edge"!=e.BROWSER&&"safari"!=e.BROWSER||(0,i.isDeviceSupported)())&&(console.error("Egoi Webpush Warning: Browser/OS not supported"),n=!0),"object"!==("undefined"==typeof _egoiwp?"undefined":o(_egoiwp))&&(console.error("Egoi Webpush Warning: configurations missing"),n=!0),void 0===_egoiwp.code&&(console.error("Egoi Webpush Warning: configurations missing"),n=!0),!n){var s=new t.EgoiWebpush(_egoiwp.code);window.addEventListener?window.addEventListener("load",s.listen(),!1):window.attachEvent?window.attachEvent("load",s.listen()):console.error("Egoi Webpush Warning: Methods are missing (window.addEventListener & window.attachEvent)")}})?o.apply(e,n):o)||(t.exports=s)}])});