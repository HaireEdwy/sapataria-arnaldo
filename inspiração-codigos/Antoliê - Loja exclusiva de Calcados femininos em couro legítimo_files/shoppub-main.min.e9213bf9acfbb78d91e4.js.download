/*!shoppub - v1.4.0 - * Copyright (c) 2023 shoppub; Licensed*/window.legacyAlert=window.alert,window.alert=function(e,t,a){null!=e&&Swal.fire("Aviso",e,"warning")},window.confirm=function(e,t,a,i,n,r){t=null==t?"Confirmação":t,a=null==a?"warning":a;Swal.fire($.extend({title:t,text:e,type:a,showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Ok",allowEscapeKey:!1,allowOutsideClick:!1,focusCancel:!0},r||{})).then(function(e){e.value&&i instanceof Function?i():"cancel"===e.dismiss&&n instanceof Function&&n()})};var encryptedEmail,product_detail_service,shipping_service,cart_common_service,contact_form_service,common_functions,modal_signup,campaign_class,campaign_common,campaign_buy_together,url_carrinho="/carrinho/",url_cart_installments="/carrinho/get-installments",url_get_preview_carrinho="/carrinho/get-preview-carrinho/",url_checkout="/checkout/",url_get_checkout_step_login_template="/checkout/get-checkout-step-login-template/",url_get_checkout_step_shipping_types_template="/checkout/get-checkout-step-shipping-types-template/",url_get_checkout_step_payment_methods_template="/checkout/get-checkout-step-payment-methods-template/",url_get_checkout_step_summary_order_template="/checkout/get-checkout-step-summary-order-template/",url_get_checkout_step_list_products_template="/checkout/get-checkout-step-list-products-template/",url_get_checkout_installments="/checkout/get-installments",url_set_cart_address="/checkout/set-cart-address/",url_set_cart_payment_method="/checkout/set-cart-payment-method/",url_set_cart_shipping_type="/checkout/set-cart-shipping-type/",url_cadastro_pessoa_fisica="/clientes/identificacao/",url_cadastro_pessoa_juridica="/clientes/cadastro-pessoa-juridica/",url_form_validar_cliente_dados_pessoais_pf="/clientes/form-validar-cliente-dados-pessoais-pf/",url_form_validar_cliente_dados_pessoais_pj="/clientes/form-validar-cliente-dados-pessoais-pj/",url_buscar_cep="/buscar-cep/",url_esqueci_minha_senha="/clientes/esqueci-minha-senha/",url_verify_signup="/clientes/verify_signup/",url_get_produto_frete="/produto/get-produto-frete/",url_get_respostas_assunto_contato="/get-respostas-assunto-contato/",url_get_produto_detail="/produto/produto-detail/",url_get_produto_detail_list="/produto/produto-detail-list/",url_get_produto_detail_list_compre_tambem="/produto/produto-detail-list-compre-tambem/",url_get_produto_detail_list_buy_together_campaign="/produto/produto-detail-list-buy-together-campaign/",url_get_showcase_buy_together_campaign="/campanhas/get-showcase-buy-together-campaign/",url_buy_together_campaign_base_endpoint="/api/front/campaigns/buytogether/",url_add_together="/api/front/product/get-products-buy-together/",url_order_bump="/api/front/product/get-products-order-bump/",url_produto_widget_tools_detail_list="/produto/detalhe-produto-widget-tools-detail-list/",url_add_email_newsletter="/newsletter/inscritos/",url_api_wishlist="/clientes/minha-conta/minha-lista-de-produtos/api/produto/",url_wishlist_public="/clientes/minha-conta/minha-lista-de-produtos/api/status/",url_api_validate_product_consult_price="/produto/validar-consultar-preco/",url_api_product_consult_price="/produto/consultar-preco/",url_create_wishlist="/clientes/lista-presentes/nova-lista/",url_giftlist_form_ajax="/clientes/lista-presentes/api/get-form/",url_giftlist_get_address_ajax="/clientes/lista-presentes/api/get-address/",url_giftlist_api_add_product="/clientes/lista-presentes/api/add-product/",url_giftlist_api_remove_product="/clientes/lista-presentes/api/remove-product/",url_giftlist_dashboard="/clientes/lista-presentes/dashboard/",url_del_giftlist="/clientes/lista-presentes/excluir/",url_wishlist_send_email="/clientes/minha-conta/minha-lista-de-produtos/email/",url_save_anavailable_product_notification="/produto/salva-notificacao-produto-indisponivel/",static_url="/static/",InfoUser=function(){this.info_user_close_timeout=3e3,this.hideTimer=null,this.initial_top_info_user=0,this.info_user=$("#info_user")},CommonFunctions=(InfoUser.prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},showInfoUser:function(e){clearInterval(this.hideTimer);var t=this;this.info_user.animate({top:0},function(){$(t).trigger("onEndAnimationShowInfoUser",[t.info_user])})},hideInfoUser:function(e){clearInterval(this.hideTimer);var t=this;this.hideTimer=setTimeout(function(){$(t).trigger("onStartAnimationHideInfoUser",[t.info_user]),t.info_user.animate({top:t.initial_top_info_user},function(){$(t).trigger("onEndAnimationHideInfoUser",[t.info_user])})},t.info_user_close_timeout)},notOpenInfoUser:function(){var e=this;e.info_user.hide(),e.info_user.animate({top:e.initial_top_info_user}),setTimeout(function(){e.info_user.show()},500)},setMessage:function(e){$(".message",this.info_user).text("Produto inserido com sucesso.").show()}},function(){}),NewsLetter=(CommonFunctions.prototype={verify_if_need_select_product_variation_and_alert:function(e,t){t=t||"Para comprar este produto você precisa escolher: "+e.data("variation-name");e=this.verify_if_need_select_product_variation(e);return e&&alert(t),e},verify_if_need_select_product_variation:function(e){var t=!0;return e.length&&(t=(t=e.filter(":checked").val())||e.find("option:selected").val()),!Boolean(t)},get_id_item_sel_to_add_cart:function(e){return id_sel=e.length?(id_sel=e.filter(":checked").val())||e.find("option:selected").val():id_sel},get_id_product_parent_or_self:function(e){e=$(e).closest(".product__product_detail_list"),e=(e.length?e:$("body")).attr("data-id");return e},get_id_product:function(e){e=$(e).closest(".product__product_detail_list"),e=(e.length?e:$("body")).attr("data-id-current");return e},addToCartAllGridProduct:function(e,u,t){var a=new ProductService;$(a).bind("onSuccessGetSummaryVariations",function(e,t,a,i,n,r){var o,s=[],d=[],l=[];if(t.has_variants){for(var c in t.children)t.children[c].can_sell&&(s.push(t.children[c].id),d.push(1),l.push(!0));s.length||alert("Todas as variações estão indisponíveis. Portanto não podem ser adicionadas ao carrinho.")}else t.can_sell?(s.push(t.id),d.push(1),l.push(!1)):alert("Produto não pode ser adionado ao carrinho pois está indisponível.");s.length&&(o=u.getCartAddOrUpdatePayload(s,d,l,!1,[],[],[],[],[],[],!1),u.addOrUpdateCartItem(o,add_grid_by_conf=!0))}),$(a).bind("onSuccessGetRelatedProducts",function(e,t){var a=document.getElementsByClassName("js_referenced-qtd-select"),i=[],n=[],r=[];$.each(a,function(e,t){"0"!=$(t).val()&&(n.push($(t).val()),i.push($(t).closest(".js_reference-button-container").attr("data-id")),r.push(!0))}),i.length&&(a=u.getCartAddOrUpdatePayload(i,n,r,!1,[],[],[],[],[],[],!1),u.addOrUpdateCartItem(a))}),2==t?a.get_summary_variations(e):3==t&&a.getRelatedProducts(e)},show_element_tip:function(e,t){var a=e.offset(),i=((t=t||$("body")).find(".element-tip").remove(),t.prepend('<span class="element-tip"></span>'),t.find(".element-tip")),n=a.top-i.outerHeight(!0),a=a.left+e.outerWidth(!0)/2-i.outerWidth(!0)/2;t.find(".element-tip").css({top:n,left:a}),function init_ani(){$(i).animate({"margin-top":"-8px"},500).animate({"margin-top":"0px"},500,init_ani)}()},remove_element_tip:function(e){(e=e||$("body")).find(".element-tip").remove()},eventGenericElementDispatcher:function(e,t){$(this).trigger(e,[t])},lazyLoadImages:function(e){return Blazy({selector:e,successClass:"loaded-img",error:function(){},success:function(e){setTimeout(function(){$(e).siblings(".product-item__image--loading").removeClass("product-item__image--loading")},200)}})}},function(){}),Modal=(NewsLetter.prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},addEmail:function(e){var n=this;n.bind("onBeforeAddEmailNewsLetter",n.handlerOnBeforeAddEmailNewsLetter),$(n).trigger("onBeforeAddEmailNewsLetter"),$.ajax({type:"POST",url:url_add_email_newsletter,data:e,dataType:"json"}).done(function(e,t,a){n.bind("onSuccessAddEmailNewsLetter",n.handlerOnSuccessAddEmailNewsLetter),$(n).trigger("onSuccessAddEmailNewsLetter",[e])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(n.bind("onFailAddEmailNewsLetter500",n.handlerOnFailAddEmailNewsLetter500),$(n).trigger("onFailAddEmailNewsLetter500",[i,e,t,a])):(n.bind("onFailAddEmailNewsLetter",n.handlerOnFailAddEmailNewsLetter),$(n).trigger("onFailAddEmailNewsLetter",[i,e,t,a]))}).always(function(e,t,a){n.bind("onAlwaysAddEmailNewsLetter",n.handlerOnAlwaysAddEmailNewsLetter),$(n).trigger("onAlwaysAddEmailNewsLetter",[e,t,a])})},handlerOnBeforeAddEmailNewsLetter:function(e,t){e.isDefaultPrevented()},handlerOnSuccessAddEmailNewsLetter:function(e,t){e.isDefaultPrevented()||alert("Email cadastrado com sucesso.")},handlerOnFailAddEmailNewsLetter500:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Ocorreu um erro ao cadastrar seu email, por favor tente novamente.")},handlerOnFailAddEmailNewsLetter:function(e,t,a,i,n){if(!e.isDefaultPrevented())for(var r in t){alert(t[r][0]);break}},handlerOnAlwaysAddEmailNewsLetter:function(e,t,a,i){e.isDefaultPrevented()}},function(e){var t=this;this._modal=$(e),this._modal.find(".modal__btn__close").click(function(){t.hide()})}),infoUser=(Modal.prototype={show:function(){this._modal.css("display","block")},hide:function(){this._modal.css("display","none")},clear:function(){this._modal.find(".signup-input-text").val("")}},new InfoUser),PhoneMaskBehavior=($(function(){infoUser.initial_top_info_user=infoUser.info_user.position().top}),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()}),function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"}),phoneDigitOptions={onKeyPress:function(e,t,a,i){a.mask(PhoneMaskBehavior.apply({},arguments),i)}},set_link_giftlist_with_cart=($("#id_telefone1_address").mask(PhoneMaskBehavior,phoneDigitOptions),(CustomerService=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},cancelXhr:function(e){e&&4!=e.readyState&&e.abort()},createUpdateAddress:function(n){var r=this;this.cancelXhr(this.createUpdateAddressXhr),r.bind("onBeforeCreateUpdateAddress",r.handlerOnBeforeCreateUpdateAddress),$(r).trigger("onBeforeCreateUpdateAddress"),this.createUpdateAddressXhr=$.ajax({type:"POST",url:n.attr("action"),data:n.serialize(),dataType:"json"}).done(function(e,t,a){r.bind("onSuccessCreateUpdateAddress",r.handlerOnSuccessCreateUpdateAddress),$(r).trigger("onSuccessCreateUpdateAddress",[e,n])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(r.bind("onFailCreateUpdateAddress500",r.handlerOnFailCreateUpdateAddress500),$(r).trigger("onFailCreateUpdateAddress500",[i,n,e,t,a])):(r.bind("onFailCreateUpdateAddress",r.handlerOnFailCreateUpdateAddress),$(r).trigger("onFailCreateUpdateAddress",[i,n,e,t,a]))})},handlerOnBeforeCreateUpdateAddress:function(e,t){e.isDefaultPrevented()},handlerOnSuccessCreateUpdateAddress:function(e,t,a){e.isDefaultPrevented()},handlerOnFailCreateUpdateAddress500:function(e,t,a,i,n,r){e.isDefaultPrevented()||alert("Ocorreu um erro ao criar o usuario.")},handlerOnFailCreateUpdateAddress:function(e,t,a,i,n,r){e.isDefaultPrevented()}},(ShippingService=function(){$(this).bind("onSuccessSearchCep",this.handlerOnSuccessSearchCep)}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},getShippingProduct:function(n,r,o,s){var e,d=this;/\d{5}\-\d{3}/.test(n)?(void 0===o&&(o=null),void 0===s&&(s=1),e={cep:n,show_delivery_shippings:show_delivery_shippings},r&&($(d).trigger("onBeforeGetShippingProduct",[n,r]),e.products_ids=r,e.qtd=s),$.ajax({type:"POST",url:url_get_produto_frete,data:e,dataType:"json"}).done(function(e,t,a){$(d).trigger("onSuccessGetShippingProduct",[e,n,r,o,s,t,a])}).fail(function(e,t,a){var i=e.responseJSON;$(d).trigger("onFailGetShippingProduct",[i,n,r,o,s,e,t,a]),500==e.status&&(d.bind("onFailGetShippingProduct500",d.handlerOnFailGetShippingProduct500),$(d).trigger("onFailGetShippingProduct500",[n,r,o,s,e,t,a])),400==e.status&&(d.bind("onFailGetShippingProduct400",d.handlerOnFailGetShippingProduct400),$(d).trigger("onFailGetShippingProduct400",[i,n,r,o,s,e,t,a])),404==e.status&&(d.bind("onFailGetShippingProduct404",d.handlerOnFailGetShippingProduct404),$(d).trigger("onFailGetShippingProduct404",[n,r,o,e,s,t,a]))})):(d.bind("onErrorFormBeforeGetShippingProduct",d.handlerOnErrorFormBeforeGetShippingProduct),$(d).trigger("onErrorFormBeforeGetShippingProduct",[n,r]))},handlerOnErrorFormBeforeGetShippingProduct:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Informe um CEP válido")},handlerOnFailGetShippingProduct400:function(e,t,a,i,n,r,o,s,d){if(!e.isDefaultPrevented()){if(t.shippings_available.errors)for(var l=0;l<t.shippings_available.errors.length;l++){if("cart_empty"==t.shippings_available.errors[l])return void alert("Coloque pelo menos um produto no carrinho para calcular o frete.");if("invalid_cep"==t.shippings_available.errors[l])return void alert("Informe um CEP válido.");if("cant_delivery_on_cep"in t.shippings_available.errors[l])return void alert("O produto <strong>"+t.shippings_available.errors[l].cant_delivery_on_cep.product+"</strong> não pode ser entregue no CEP <strong>"+t.shippings_available.errors[l].cant_delivery_on_cep.cep+"</strong>.")}alert("Não foi possível encontrar o frete para o cep "+a+", por favor verifique novamente.")}},handlerOnFailGetShippingProduct404:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("Não foi possível calcular o frete para CEP informado: "+t)},handlerOnFailGetShippingProduct500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("ocorreu um erro ao consultar o frete para o cep "+t)}},!0),CartPreview=((CartService=function(){$(this);this.items_updated=0,this.ids_items_to_update=[]}).prototype={getInstallmentsXhr:[],cancelXhr:function(e){e&&4!=e.readyState&&e.abort()},bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},getInstallments:function(e,n,r,o,s,t,a){var d=this;this.cancelXhr(this.getInstallmentsXhr[s]),d.bind("onBeforeGetInstallments",d.handlerOnBeforeGetInstallments),$(d).trigger("onBeforeGetInstallments"),this.getInstallmentsXhr[s]=$.ajax({type:"GET",url:a||url_cart_installments,data:{value:e,credit_card_flag_id:o,use_installment_discount:n,payment_method_id:t},dataType:"json"}).done(function(e,t,a){d.bind("onSuccessGetInstallments",d.handlerOnSuccessGetInstallments),$(d).trigger("onSuccessGetInstallments",[e,n,r,o,s])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(d.bind("onFailGetInstallments500",d.handlerOnFailGetInstallments500),$(d).trigger("onFailGetInstallments500",[i,n,r,o,s,e,t,a])):(d.bind("onFailGetInstallments",d.handlerOnFailGetInstallments),$(d).trigger("onFailGetInstallments",[i,n,r,o,s,e,t,a]))})},handlerOnBeforeGetInstallments:function(e,t,a,i,n,r){e.isDefaultPrevented()},handlerOnSuccessGetInstallments:function(e,t,a,i,n,r){e.isDefaultPrevented()},handlerOnFailGetInstallments500:function(e,t,a,i,n,r,o,s,d){e.isDefaultPrevented()||alert("Houve um erro ao buscar as parcelas, por favor tente novamente.")},handlerOnFailGetInstallments:function(e,t,a,i,n,r,o,s,d){e.isDefaultPrevented()},removeCartGiftList:function(){var i=this;$.ajax({type:"POST",url:url_gift_list_cart_manager}).done(function(e,t,a){i.bind("onAfterRemoveCartGiftList",i.handlerOnAfterRemoveCartGiftList),$(i).trigger("onAfterRemoveCartGiftList",[])}).fail(function(e,t,a){i.bind("onFailRemoveCartGiftList404",i.handlerOnFailRemoveCartGiftList404),$(i).trigger("onFailRemoveCartGiftList404",[e,t,a])})},handlerOnAfterRemoveCartGiftList:function(e,t,a,i){e.isDefaultPrevented()||window.location.reload(!0)},getCartContent:function(){var i=this;$.ajax({type:"GET",url:"/api/front/cart/content/",dataType:"json"}).done(function(e,t,a){$(i).trigger("onGetCartContent",[e,t,a])}).fail(function(e,t,a){$(i).trigger("onFailGetCartContent",[e,t,a])})},shareCart:function(){$.ajax({type:"GET",url:"share/",dataType:"json"}).done(function(e,t,a){}).fail(function(e,t,a){})},checkCartValue:function(){var r=this;$.ajax({type:"POST",url:"/api/front/cart/check/",data:"",headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(e,t,a){$(r).trigger("onCheckCartValue",[e,t,a]),$(r).trigger("onCheckCartFactor",[e,t,a])}).fail(function(e,t,a){var n=e.responseJSON;for(i in $(r).trigger("onFailAddItemCartStatus",[n,t,e]),n){if("value_check"in n){r.bind("onFailCheckCartValue",r.handlerOnFailCheckCartValue),$(r).trigger("onFailCheckCartValue",[e,t,a]);break}if("factor_check"in n){r.bind("onFailCheckCartFactor",r.handlerOnFailCheckCartFactor),$(r).trigger("onFailCheckCartFactor",[e,t,a]);break}if("not_permitted"in n[i]){r.bind("onFailAddItemCartNotPermitted",r.handlerOnFailAddItemCartNotPermitted),$(r).trigger("onFailAddItemCartNotPermitted",[n[i]]);break}}})},handlerOnFailCheckCartValue:function(e,t,a,i){e.isDefaultPrevented()||swal.isVisible()||alert("Valor mínimo para finalizar um pedido deve ser de R$ "+t.responseJSON.value_check.error.toFixed(2))},handlerOnFailCheckCartFactor:function(e,t,a,i){e.isDefaultPrevented()||swal.isVisible()||alert("A soma total destes itens deve ser de "+t.responseJSON.factor_check.error+" ou múltiplo de "+t.responseJSON.factor_check.error+". Ex: "+ +t.responseJSON.factor_check.error+", "+2*t.responseJSON.factor_check.error+", "+3*t.responseJSON.factor_check.error+t.responseJSON.factor_check.products+"<p> Total: "+t.responseJSON.factor_check.qtd+"</p>")},getCartAddOrUpdatePayload:function(e,t,a,i,n,r,o,s,d,l,c){var u,_=[];for(u in e){var p={product:e[u],quantity:t[u],replace_quantity:a[u],is_buying_by_measure:c[u]},m=(s&&(p.addon_values=s[u]),localStorage.getItem("retailerCode"));if(m&&(p.retailer_code=m,localStorage.removeItem("retailerCode")),d&&(p.new_product=d[u]),l&&(p.item_id=l[u]),(p.as_free=!1)!==i&&i[u].length)for(var f in p.products_items_kit=[],i[u])p.products_items_kit.push({product:i[u][f]});n&&(p.schedules=n[u]),r&&(p.is_gift=r[u]),o&&(p.gift_message=o[u]),_.push(p)}return _},addOrUpdateCartItem:function(e,t){var a=this;$(a).unbind("onExecuteAddOrUpdateCartItemRequest",a.handlerOnExecuteAddOrUpdateCartItemRequest),$(a).bind("onExecuteAddOrUpdateCartItemRequest",a.handlerOnExecuteAddOrUpdateCartItemRequest),$(a).trigger("onExecuteAddOrUpdateCartItemRequest",[e,t])},updateCartItemRequest:function(r,o){var s=this;o=Boolean(o),$.ajax({type:"POST",url:"/api/front/cart/items/"+(o?"?add_grid_by_conf=1":""),data:JSON.stringify(r),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(e,t,a){s.bind("onAfterAddOrUpdateCartItem",s.handlerOnAfterAddOrUpdateCartItem),$(s).trigger("onAfterAddOrUpdateCartItem",[e,t,a])}).fail(function(e,t,a){var i,n=e.responseJSON;for(i in $(s).trigger("onFailAddItemCartStatus",[n,t,e]),n){if("need_login"in n[i]){s.bind("onFailAddCartItemNeedLogin",s.handlerOnFailAddCartItemNeedLogin),$(s).trigger("onFailAddCartItemNeedLogin",[n[i],e,t,a]);break}if("consult_price"in n[i]){s.bind("onFailAddItemCartConsultPrice",s.handlerOnFailAddItemCartConsultPrice),$(s).trigger("onFailAddItemCartConsultPrice",[n[i],e,t,a]);break}if("unavailable"in n[i]){s.bind("onFailAddItemCartUnavailable",s.handlerOnFailAddItemCartUnavailable),$(s).trigger("onFailAddItemCartUnavailable",[n[i],e,t,a]);break}if("stock"in n[i]){s.bind("onFailAddItemCartStock",s.handlerOnFailAddItemCartStock),$(s).trigger("onFailAddItemCartStock",[n[i],e,t,a]);break}if("giveaway"in n[i]){s.bind("onFailAddItemGiveaway",s.handlerOnFailAddItemGiveaway),$(s).trigger("onFailAddItemGiveaway",[n[i],e,t,a]);break}if("limit_purchase"in n[i]){s.bind("onFailAddItemCartLimitPurchase",s.handlerOnFailAddItemCartLimitPurchase),$(s).trigger("onFailAddItemCartLimitPurchase",[n[i],e,t,a]);break}if("price"in n[i]){s.bind("onFailAddItemCartPrice",s.handlerOnFailAddItemCartPrice),$(s).trigger("onFailAddItemCartPrice",[n[i],e,t,a]);break}if("limit_itens"in n[i]){s.bind("onFailAddItemCartLimitItens",s.handlerOnFailAddItemCartLimitItens),$(s).trigger("onFailAddItemCartLimitItens",[n[i],e,t,a]);break}if("open_delivery_verify_cep_modal"in n[i]){s.bind("onOpenDeliveryVerifyCepModal",s.handlerOnOpenDeliveryVerifyCepModal),$(s).trigger("onOpenDeliveryVerifyCepModal",[n[i],r,o,e,t,a]);break}if("cant_delivery"in n[i]){s.bind("onFailAddItemCartCantDelivery",s.handlerOnFailAddItemCartCantDelivery),$(s).trigger("onFailAddItemCartCantDelivery",[n[i],e,t,a]);break}if("buy_rules"in n[i]){s.bind("onFailAddItemCartBuyRules",s.handlerOnFailAddItemCartBuyRules),$(s).trigger("onFailAddItemCartBuyRules",[n[i],e,t,a]);break}if("null_addon_mandatory_field"in n[i]){s.bind("OnNullMandatoryAddonField",s.handlerOnNullMandatoryAddonField),$(s).trigger("OnNullMandatoryAddonField",n[i]);break}if(500==e.status){s.bind("onFailAddItemCartStatus500",s.handlerOnFailAddItemCartStatus500),$(s).trigger("onFailAddItemCartStatus500",[e,t,a]);break}if("invalid_extension"in n[i]){s.bind("onFailAddItemCartInvalidImageExtension",s.handlerOnFailAddItemCartInvalidImageExtension),$(s).trigger("onFailAddItemCartInvalidImageExtension",[n[i],e,t,a]);break}if("invalid_image"in n[i]){s.bind("onFailAddItemCartInvalidImage",s.handlerOnFailAddItemCartInvalidImage),$(s).trigger("onFailAddItemCartInvalidImage",[n[i],e,t,a]);break}if("image_size"in n[i]){s.bind("onFailAddItemCartImageSize",s.handlerOnFailAddItemCartImageSize),$(s).trigger("onFailAddItemCartImageSize",[n[i],e,t,a]);break}}})},handlerOnExecuteAddOrUpdateCartItemRequest:function(e,t,a){e.isDefaultPrevented()||this.updateCartItemRequest(t,a)},handlerOnAfterAddOrUpdateCartItem:function(e,t,a,i,n){"undefined"!=typeof current_giftlist_id&&current_giftlist_id&&set_link_giftlist_with_cart&&this.linkCartWithGiftList(current_giftlist_id)},handlerOnFailAddCartItemNeedLogin:function(e,t,a,i,n){e.isDefaultPrevented()||Swal.fire({title:"Aviso",text:"Para comprar na loja e ver o preço do produto é necessário efetuar login.",type:"warning",showCancelButton:!0,confirmButtonText:"Fazer login",cancelButtonText:"Cancelar",closeOnConfirm:!1,closeOnCancel:!1}).then(function(e){e.value?window.location.href=url_cadastro_pessoa_fisica:e.dismiss})},handlerOnFailAddItemCartConsultPrice:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Produto disponível apenas para consulta de preço.")},handlerOnFailAddItemCartUnavailable:function(e,t,a,i,n){var r;e.isDefaultPrevented()||swal.isVisible()||(r=t.unavailable,Swal.fire({imageUrl:r.product.image,html:"<strong>"+r.product.name+"</strong><p>"+r.message+"</p>",input:"text",inputPlaceholder:"Informe seu e-mail:",showCancelButton:!0,confirmButtonText:"Cadastrar aviso",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:function(a){return new Promise(function(e,t){product_detail_service.notify("",a,r.product.id),e()})}}))},handlerOnFailAddItemCartPrice:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert('O produto <strong>"'+t.price.product.name+'"</strong> não pode ser adicionado ao carrinho')},handlerOnFailAddItemCartStock:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert('O produto <strong>"'+t.stock.product.name+'"</strong> possui <strong>'+t.stock.quantity+"</strong> unidade(s) em estoque.")},handlerOnFailAddItemGiveaway:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||Swal.fire({title:"Aviso",html:'Infelizmente o seu brinde <strong>"'+t.giveaway.product.name+'"</strong> ficou sem estoque enquanto você fazia sua compra. Removeremos o item do seu carrinho para que possa continuar sua compra.',imageUrl:t.giveaway.product.image,imageWidth:400,imageHeight:400,imageAlt:"Brinde"}).then(function(e){e&&location.reload()})},handlerOnFailAddItemCartLimitPurchase:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert('O produto <strong>"'+t.limit_purchase.product.name+'"</strong> está limitado a compra de  <strong>'+t.limit_purchase.quantity+"</strong> unidade(s) por cliente.")},handlerOnFailAddItemCartInvalidImageExtension:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert(t.invalid_extension.message)},handlerOnFailAddItemCartInvalidImage:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert(t.invalid_image.message)},handlerOnFailAddItemCartImageSize:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert(t.image_size.message)},handlerOnFailAddItemCartLimitItens:function(e,t,a,i,n){e.isDefaultPrevented()||swal.isVisible()||alert(t.limit_itens.message)},handlerOnOpenDeliveryVerifyCepModal:function(e,t,r,o,a,i,n){function closeCepModal(){$("#js_modal_cep_delivery").fadeOut(),$("#js_modal_cep_delivery_overlay").fadeOut()}var s,d;e.isDefaultPrevented()||(s=this,t.open_delivery_verify_cep_modal,$("#js_modal_cep_delivery").fadeIn(),$("#js_modal_cep_delivery_overlay").fadeIn(),$("#js_modal_cep_delivery_content").hide(),$("#js_modal_cep_delivery_valid_cep").hide(),$("#js_modal_cep_delivery_invalid_cep").hide(),e=$(".modal-cep"),(d=e.find("input[name='cep_delivery']")).mask("99999-999"),$(cart_common_service).bind("onSetVerifyDeliveryCep",function(e,t,a,i){e.preventDefault(),$("#js_modal_cep_delivery_content").removeClass("invalid").show(),$("#js_modal_cep_delivery_valid_cep").show(),$("#js_modal_cep_delivery_invalid_cep").hide()}),$(cart_common_service).bind("onFailSetVerifyDeliveryCep",function(e,t,a,i){e.preventDefault(),$("#js_modal_cep_delivery_content").addClass("invalid").show(),$("#js_modal_cep_delivery_valid_cep").hide(),$("#js_modal_cep_delivery_invalid_cep").show()}),d.keyup(function(e){8<=d.val().length&&cart_common_service.setVerifyDeliveryCep(d.val(),!0,!0)}),e.find(".modal-cep__close").unbind("click").click(function(e){closeCepModal()}),$("#js_modal_cep_delivery_btn_confirm").unbind("click").click(function(e){$(cart_common_service).bind("onSetVerifyDeliveryCep",function(e,t,a,i,n){e.preventDefault(),$("#js_modal_cep_delivery_btn_confirm").hide(),$("#js_modal_cep_delivery_valid_cep span").html("<br>CEP atribuído com sucesso!"),setTimeout(function(){closeCepModal(),s.addOrUpdateCartItem(r,o)},1e3)}),cart_common_service.setVerifyDeliveryCep(d.val())}))},handlerOnFailAddItemCartCantDelivery:function(e,t,a,i,n){e.isDefaultPrevented()||alert('O produto <strong>"'+t.cant_delivery.product.name+'"</strong> não pode ser entregue no CEP '+t.cant_delivery.cep+".")},handlerOnFailAddItemCartBuyRules:function(e,t,a,i,n){if(!e.isDefaultPrevented()&&!swal.isVisible()){var r,o="Quantidade solicitada para esta grade: <strong>"+t.buy_rules.quantity_total_grid_on_cart+"</strong><br><br>";for(r in o+="Para o produto <strong>"+t.buy_rules.products[0].product_parent_or_self.name+'</strong> é necessário comprar a grade conforme as regras abaixo:</br></br><table class="behaviour-grid__table"><thead>  <tr>    <th><strong>Total por grade</strong> &nbsp;&nbsp;&nbsp;&nbsp;</th>    <th><strong>Mínimo por variação</strong></th>  </tr></thead><tbody>',t.buy_rules.grade_rules){var s=t.buy_rules.grade_rules[r];o+="<tr "+(parseInt(t.buy_rules.quantity_total_grid_on_cart)==parseInt(s.total_quantity_that_must_be_purchased_in_the_grid)?' style="color:red; text-decoration: underline;">':">")+"<td>"+(s.total_quantity_must_be_multiple_of_itself&&0<s.total_quantity_that_must_be_purchased_in_the_grid?"múltiplo de ":"")+(parseInt(s.total_quantity_that_must_be_purchased_in_the_grid)||"sem limite")+"</td><td>"+(s.minimum_amount_must_be_multiple_of_itself&&0<s.minimum_amount_that_must_be_purchased_by_product?"múltiplo de ":"")+(parseInt(s.minimum_amount_that_must_be_purchased_by_product)||"sem limite")+(s.close_grid?" (grade fechada)"+(s.variations_not_required?" (não abrigatório: "+s.variations_not_required.split(",").join(", ")+")":""):" (grade aberta)")+"</td></tr>"}o+="</tbody>",Swal.fire({imageUrl:t.buy_rules.products[0].product.image,html:o,customClass:{container:"behaviour-grid__swal"}})}},handlerOnNullMandatoryAddonField:function(e,t){e.isDefaultPrevented()||alert(t.null_addon_mandatory_field[0])},handlerOnFailAddItemCartNotPermitted:function(e,t){e.isDefaultPrevented()||swal.isVisible()||alert(t.not_permitted.message)},handlerOnFailAddItemCartStatus500:function(e,t,a,i){e.isDefaultPrevented()||alert("Houve um erro, por favor tente novamente.")},getRemoveCartItemPayload:function(e){for(var t in payload=[],e)item={id:e[t]},payload.push(item);return payload},removeCartItem:function(e){var i=this;$.ajax({type:"DELETE",url:"/api/front/cart/items/remove/",data:JSON.stringify(e),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){i.bind("onAfterRemoveCartItem",i.handlerOnAfterRemoveCartItem),$(i).trigger("onAfterRemoveCartItem",[])}).fail(function(e,t,a){i.bind("onFailRemoveCartItem",i.handlerOnFailRemoveCartItem),$(i).trigger("onFailRemoveCartItem",[e,t,a])})},handlerOnAfterRemoveCartItem:function(e){e.isDefaultPrevented()||location.reload()},handlerOnFailRemoveCartItem:function(e,t,a,i){e.isDefaultPrevented()},clearCartItems:function(){var e=this;$.ajax({type:"DELETE",url:"/api/front/cart/items/clear/",headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){e.bind("onAfterClearCartItems",e.handlerOnAfterClearCartItems),$(e).trigger("onAfterClearCartItems",[])}).fail(function(){e.bind("onFailClearCartItems",e.handlerOnFailClearCartItems),$(e).trigger("onFailClearCartItems",[jqXHR,textStatus,errorThrown])})},handlerOnAfterClearCartItems:function(e){e.isDefaultPrevented()||location.reload()},handlerOnFailClearCartItems:function(e,t,a,i){e.isDefaultPrevented()},addCartCoupon:function(e){var i=this;$.ajax({type:"PUT",url:"/api/front/cart/coupon/",data:JSON.stringify(e),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){i.bind("onAfterAddCartCoupon",i.handlerOnAfterAddCartCoupon),$(i).trigger("onAfterAddCartCoupon",[])}).fail(function(e,t,a){i.bind("onFailAddCartCoupon",i.handlerOnFailAddCartCoupon),$(i).trigger("onFailAddCartCoupon",[e,t,a])})},handlerOnAfterAddCartCoupon:function(e){e.isDefaultPrevented()||location.reload()},handlerOnFailAddCartCoupon:function(e,t,a,i){e.isDefaultPrevented()||(e=t.responseJSON[Object.keys(t.responseJSON)[0]],e=Array.isArray(e)?e[0]:e,alert(e))},removeCartCoupon:function(e){var i=this;$.ajax({type:"DELETE",url:"/api/front/cart/coupon/",headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){i.bind("onAfterRemoveCartCoupon",i.handlerOnAfterRemoveCartCoupon),$(i).trigger("onAfterRemoveCartCoupon",[])}).fail(function(e,t,a){i.bind("onFailRemoveCartCoupon",i.handlerOnFailRemoveCartCoupon),$(i).trigger("onFailRemoveCartCoupon",[e,t,a])})},handlerOnAfterRemoveCartCoupon:function(e){e.isDefaultPrevented()||location.reload()},handlerOnFailRemoveCartCoupon:function(e,t,a,i){e.isDefaultPrevented()||(e=t.responseJSON[Object.keys(t.responseJSON)[0]],e=Array.isArray(e)?e[0]:e,alert(e))},addCartCustomerCredits:function(e){var n=this;e=e.replace(",","."),$.ajax({type:"PUT",url:"/api/front/cart/credit/",data:JSON.stringify({credits:e}),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){n.bind("onAfterAddCartCustomerCredit",n.handlerOnAfterAddCartCustomerCredit),$(n).trigger("onAfterAddCartCustomerCredit",[])}).fail(function(e,t,a){var i=e.responseJSON;n.bind("onFailAddCartCustomerCredit",n.handlerOnFailAddCartCustomerCredit),$(n).trigger("onFailAddCartCustomerCredit",[i,e,t,a])})},handlerOnAfterAddCartCustomerCredit:function(e){e.isDefaultPrevented()||location.reload()},handlerOnFailAddCartCustomerCredit:function(e,t,a,i,n){e.isDefaultPrevented()||("insufficient_credit"in t?Swal.fire("Aviso",t.insufficient_credit.msg,"warning"):(e=t[Object.keys(t)[0]],e=Array.isArray(e)?e[0]:e,alert(e)))},addCartCustomerCashBack:function(e){var n=this;e=e.replace(",","."),$.ajax({type:"PUT",url:"/api/front/cart/cashback/",data:JSON.stringify({cashback:e}),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){n.bind("onAfterAddCartCustomerCashBack",n.handlerOnAfterAddCartCustomerCashBack),$(n).trigger("onAfterAddCartCustomerCashBack",[])}).fail(function(e,t,a){var i=e.responseJSON;n.bind("onFailAddCartCustomerCashBack",n.handlerOnFailAddCartCustomerCashBack),$(n).trigger("onFailAddCartCustomerCashBack",[i,e,t,a])})},handlerOnAfterAddCartCustomerCashBack:function(e){e.isDefaultPrevented()||location.reload()},handlerOnFailAddCartCustomerCashBack:function(e,t,a,i,n){e.isDefaultPrevented()||("insufficient_cashback"in t?Swal.fire("Aviso",t.insufficient_cashback.msg,"warning"):"limiter_cashback"in t?Swal.fire("Aviso",t.limiter_cashback.msg,"warning"):(e=t[Object.keys(t)[0]],e=Array.isArray(e)?e[0]:e,alert(e)))},linkCartWithGiftList:function(e){var i=this;$.ajax({type:"PUT",url:"/api/front/cart/link-cart-with-gift-list/",data:JSON.stringify({giftlist:e}),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(){i.bind("onLinkCartWithGiftList",i.handlerOnLinkCartWithGiftList),$(i).trigger("onLinkCartWithGiftList",[])}).fail(function(e,t,a){i.bind("onFailLinkCartWithGiftList",i.handlerOnFailLinkCartWithGiftList),$(i).trigger("onFailLinkCartWithGiftList",[e,t,a])})},handlerOnLinkCartWithGiftList:function(e){set_link_giftlist_with_cart=!1},handlerOnFailLinkCartWithGiftList:function(e,t,a,i){e.isDefaultPrevented()||(e=t.responseJSON[Object.keys(t.responseJSON)[0]],e=Array.isArray(e)?e[0]:e,alert(e))},setVerifyDeliveryCep:function(e,t,a){var i=this;t=Boolean(t),a=a?1:0,$.ajax({type:"POST",url:"/api/front/cart/verify-delivery-cep/?only_validate="+a,data:JSON.stringify({cep:e.replace("-",""),validate_can_delivery:t}),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(e,t,a){i.bind("onSetVerifyDeliveryCep",i.handlerOnSetVerifyDeliveryCep),$(i).trigger("onSetVerifyDeliveryCep",[e,t,a])}).fail(function(e,t,a){i.bind("onFailSetVerifyDeliveryCep",i.handlerOnFailSetVerifyDeliveryCep),$(i).trigger("onFailSetVerifyDeliveryCep",[e,t,a])})},handlerOnSetVerifyDeliveryCep:function(e){e.isDefaultPrevented()||Swal.fire("Aviso","CEP de entrega atribuído com sucesso!","success")},handlerOnFailSetVerifyDeliveryCep:function(e,t,a,i){e.isDefaultPrevented()||("cant_delivery"in(e=t.responseJSON)?(e=(e=e.cant_delivery.cep_label.split("")).slice(0,5).join("")+"-"+e.slice(5,8).join(""),Swal.fire("Aviso","Infelizmente não podemos entregar no CEP "+e,"warning")):(e=t.responseJSON[Object.keys(t.responseJSON)[0]],e=Array.isArray(e)?e[0]:e,alert(e)))},getVerifyDeliveryCep:function(){var i=this;$.ajax({type:"GET",url:"/api/front/cart/verify-delivery-cep/",dataType:"json"}).done(function(e,t,a){$(i).trigger("onGetVerifyDeliveryCep",[e,t,a])}).fail(function(e,t,a){$(i).trigger("onFailGetVerifyDeliveryCep",[e,t,a])})}},function(){this.container_items_cart_preview=$(".items_cart_preview")}),ProductScheduleService=(CartPreview.prototype={get $_cacheKey(){return"cart-preview-cache-"+encodeURI(window.location.origin||window.location.host)},$_getCachedPreview:function(){var e=window.sessionStorage.getItem(this.$_cacheKey);return null===e?null:JSON.parse(e)},$_setCachedPreview:function(e){window.sessionStorage.setItem(this.$_cacheKey,JSON.stringify(e))},$_purgeCacheIfFlagCookiePresent:function(){try{var t="purge-cart-preview-cache";document.cookie.split(";").some(function(e){return 0===e.trim().indexOf(t)})&&(this.purgeCache(),document.cookie=t+"=; Max-Age=-99999999; Expires=Thu, 01 Jan 1970 00:00:00 GMT;")}catch(e){this.purgeCache()}},purgeCache:function(){window.sessionStorage.removeItem(this.$_cacheKey)},renderCartPreview:function(){function renderCartPreviewData(e){this.container_items_cart_preview.html(e.html_itens),$(".quant_itens_carrinho").html(e.qtd_itens_carrinho),$(".total_value_cart_preview").html(e.valor_total_produtos.toString().replace(".",","));var t=this;setTimeout(function(){$(t).trigger("onRenderCartPreview")},0)}this.$_purgeCacheIfFlagCookiePresent();var t,e=this.$_getCachedPreview();null!==e?renderCartPreviewData.apply(this,[e]):(t=this,$.ajax({type:"GET",url:url_get_preview_carrinho,dataType:"json"}).done(function(e){t.$_setCachedPreview(e),renderCartPreviewData.apply(t,[e])}).fail(this.purgeCache))},watchCartServiceForEvents:function(e){var t;e instanceof CartService&&(t=this.purgeCache.bind(this),$(e).bind({onAfterRemoveCartGiftList:t,onAfterAddOrUpdateCartItem:t,onFailAddItemCartStatus:t,onAfterRemoveCartItem:t,onFailRemoveCartItem:t,onAfterClearCartItems:t,onFailClearCartItems:t,onAfterAddCartCoupon:t,onFailAddCartCoupon:t,onAfterRemoveCartCoupon:t,onFailRemoveCartCoupon:t}))}},(IdentificationService=function(){this.map_fields={username:"Usuário",password:"Senha"}}).prototype={loginProvider:function(e,t){var n=this;$(n).trigger("onBeforeLogin"),url="/api/front/customer/login/provider/",$.ajax({type:"POST",url:url,data:{provider:e,token:t},dataType:"json"}).done(function(e){"no-user-found"===e.status?(n.bind("onUserNotExists",n.handlerOnUserNotExists),$(n).trigger("onUserNotExists",[e])):(n.bind("onSuccessLogin",n.handlerOnSuccessLogin),$(n).trigger("onSuccessLogin",[null,null]))}).fail(function(e,t,a){var i=e.responseJSON;500==e.status&&(n.bind("onFailLoginStatus500",n.handlerOnFailLoginStatus500),$(n).trigger("onFailLoginStatus500",[i,null,e,t,a])),401==e.status&&(n.bind("onFailoginStatus401",n.handlerOnFailLoginStatus401),$(n).trigger("onFailLoginStatus401",[i,null,e,t,a]))})},login:function(n,e){var r=this,t=n.find("[name='username']").val(),a=n.find("[name='password']").val();$(r).trigger("onBeforeLogin"),e=e||"/api/front/customer/login/",$.ajax({type:"POST",url:e,data:{username:t,password:a},dataType:"json"}).done(function(e){r.bind("onSuccessLogin",r.handlerOnSuccessLogin),$(r).trigger("onSuccessLogin",[e,n])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status&&(r.bind("onFailLoginStatus500",r.handlerOnFailLoginStatus500),$(r).trigger("onFailLoginStatus500",[i,n,e,t,a])),401==e.status&&(r.bind("onFailLoginStatus401",r.handlerOnFailLoginStatus401),$(r).trigger("onFailLoginStatus401",[i,n,e,t,a]))})},handlerOnFailLoginStatus500:function(e,t,a,i,n,r){e.isDefaultPrevented()||alert("Houve um erro ao efetuar login, por favor tente novamente.")},handlerOnUserNotExists:function(e,t,a,i,n,r){e.isDefaultPrevented()||($.fancybox.close(),Swal.fire({title:"Aviso",html:"Identificamos que você ainda não possui cadastro em nossa loja",type:"warning",confirmButtonText:"Cadastrar",onAfterClose:function(){window.location=window.location.origin+"/clientes/identificacao?nome=".concat(t.data.name,"&email=").concat(t.data.email)}}))},handlerOnFailLoginStatus401:function(e,t,a,i,n,r){if(!e.isDefaultPrevented())for(var o in t){this.map_fields.hasOwnProperty(o)?alert(this.map_fields[o]+": "+t[o][0]):alert(t[o][0]);break}},handlerOnSuccessLogin:function(e,t,a){$.isEmptyObject(t)&&!e.isDefaultPrevented()&&($("#id_next_login").val()?location.href=$("#id_next_login").val():location.reload())},verifyRegistered:function(n){var r=this,e=n.find("[name='username']").val();$(r).trigger("onBeforeVerifyRegistered"),$.ajax({type:"POST",url:url_verify_signup,data:{username:e},dataType:"json"}).done(function(e){r.bind("onSuccessVerifyRegistered",r.handlerOnSuccessVerifyRegistered),$(r).trigger("onSuccessVerifyRegistered",[e,n])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status?(r.bind("onFailVerifyRegisteredStatus400",r.handlerOnFailVerifyRegisteredStatus400),$(r).trigger("onFailVerifyRegisteredStatus400",[i,n,e,t,a])):404==e.status?(r.bind("onFailVerifyRegisteredStatus404",r.handlerOnFailVerifyRegisteredStatus404),$(r).trigger("onFailVerifyRegisteredStatus404",[i,n,e,t,a])):500==e.status?(r.bind("onFailVerifyRegisteredStatus500",r.handlerOnFailVerifyRegisteredStatus500),$(r).trigger("onFailVerifyRegisteredStatus500",[i,n,e,t,a])):(r.bind("onFailVerifyRegisteredStatus",r.handlerOnFailVerifyRegisteredStatus),$(r).trigger("onFailVerifyRegisteredStatus",[i,n,e,t,a]))})},handlerOnFailVerifyRegisteredStatus400:function(e,t,a,i,n,r){e.isDefaultPrevented()},handlerOnFailVerifyRegisteredStatus404:function(e,t,a,i,n,r){e.isDefaultPrevented()},handlerOnFailVerifyRegisteredStatus500:function(e,t,a,i,n,r){e.isDefaultPrevented()||alert("Ocorreu um erro ao buscar cadastro. Por favor tente novamente")},handlerOnFailVerifyRegisteredStatus:function(e,t,a,i,n,r){if(!e.isDefaultPrevented())for(var o in t){this.map_fields.hasOwnProperty(o)?alert(this.map_fields[o]+": "+t[o][0]):alert(t[o][0]);break}},handlerOnSuccessVerifyRegistered:function(e,t,a){e.isDefaultPrevented()},recoverPassword:function(n){var r=this,e=n.find("[name='email_recsenha']").val();$(r).trigger("onBeforeRecoverPassword"),$.ajax({type:"POST",url:url_esqueci_minha_senha,data:{email_recsenha:e},dataType:"json"}).done(function(e){r.bind("onSuccessRecoverPassword",r.handlerOnSuccessRecoverPassword),$(r).trigger("onSuccessRecoverPassword",[e,n])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(r.bind("onFailRecoverPasswordStatus500",r.handlerOnFailRecoverPasswordStatus500),$(r).trigger("onFailRecoverPasswordStatus500",[i,n,e,t,a])):(r.bind("onFailRecoverPasswordStatus",r.handlerOnFailRecoverPasswordStatus),$(r).trigger("onFailRecoverPasswordStatus",[i,n,e,t,a]))})},bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},handlerOnFailRecoverPasswordStatus500:function(e,t,a,i,n,r){e.isDefaultPrevented()||alert("Houve um erro ao recupera a senha, por favor tente novamente.")},handlerOnFailRecoverPasswordStatus:function(e,t,a,i,n,r){if(!e.isDefaultPrevented())for(var o in t){this.map_fields.hasOwnProperty(o)?alert(this.map_fields[o]+": "+t[o][0]):alert(t[o][0]);break}},handleCredentialResponse:function(e,t){"connected"===t.status&&this.loginProvider(e,t.credential)},handlerOnSuccessRecoverPassword:function(e,t,a){e.isDefaultPrevented()}},function(){});function emailSuggestLogin(){var e=$(".login-methods__email-suggest").val();if(-1<e.indexOf("@")){$(".login-emaill__suggest").hasClass("active")||$(".login-emaill__suggest").addClass("active");var t=["gmail.com","hotmail.com","yahoo.com.br","outlook.com","bol.com.br","uol.com.br","terra.com.br","yahoo.com","icloud.com","live.com","ig.com.br","msn.com","globo.com"];$(".login-emaill__suggest").empty();for(var a=0;a<=t.length-1;a++)0<e.split("@")[1].length?0<=t[a].indexOf("".concat(e.split("@")[1]))&&$(".login-emaill__suggest").append("<a onclick=\"event.preventDefault();$('.login-methods__email-suggest').val('".concat(e.split("@")[0],"@").concat(t[a],"');if ($('.login-emaill__suggest').hasClass('active')){$('.login-emaill__suggest').removeClass('active')};$('.login-emaill__suggest').empty()\">").concat(e.split("@")[0],"@").concat(t[a],"</a>")):$(".login-emaill__suggest").append("<a onclick=\"event.preventDefault();$('.login-methods__email-suggest').val('".concat(e).concat(t[a],"');if ($('.login-emaill__suggest').hasClass('active')){$('.login-emaill__suggest').removeClass('active')};$('.login-emaill__suggest').empty()\">").concat(e).concat(t[a],"</a>"))}else""===e&&($(".login-emaill__suggest").hasClass("active")&&$(".login-emaill__suggest").removeClass("active"),$(".login-emaill__suggest").empty())}function loginWithPassword(e){var t=document.querySelector("ul.login-methods");t&&t.classList.add("disable"),"Password"===e?document.querySelector(".loginPassword").classList.add("active"):"AccessKey"===e&&document.querySelector(".loginAccessKey").classList.add("active")}function returnLoginMethod(e){var t;"Password"===e?((t=document.querySelector("ul.login-methods"))&&t.classList.remove("disable"),document.querySelector(".loginPassword").classList.remove("active")):"AccessKey"===e&&((t=document.querySelector("ul.login-methods"))&&t.classList.remove("disable"),document.querySelector(".loginAccessKey").classList.remove("active"))}function changeScreen(e){var t,a;"accessKey"===e?(t=$(".modal-login__input.email").val(),$(".loginPassword").removeClass("active"),$(".loginAccessKey").addClass("active"),sendCode("".concat(t),null)):"password"===e&&(a=$("#login-methods__verifyEmail").val(),$.ajax({type:"POST",url:"/clientes/verify_signup/",data:{username:a},dataType:"json",success:function(e){"need-set-password"===e.status?(alert("Redefinição de senha necessária. Acesse o e-mail cadastrado para redefinir sua senha."),$.ajax({type:"POST",url:"/clientes/esqueci-minha-senha/",data:{email_recsenha:a},dataType:"json"})):($(".loginAccessKey").removeClass("active"),$(".loginPassword").addClass("active"),$(".modal-login__input.email").val("".concat(a)))}}))}function verifyEmail(){var t=$("#login-methods__verifyEmail").val();$.ajax({type:"POST",url:"/clientes/verify_signup/",data:{username:t},dataType:"json",success:function(e){encryptedEmail=e.hidden_email,"need-set-password"===e.status?($(".login-methods").addClass("disable"),$(".loginAccessKey").addClass("active"),sendCode("".concat(t),null)):"blocked"===e?$(".modal-login__title").html('O seu usuário está bloqueado. Entre em contato <a href="/fale-conosco/">aqui</a>'):($(".login-methods").addClass("disable"),$(".loginPassword").addClass("active"),$(".modal-login__input.email").val("".concat(t)))},error:function(e){404===e.status&&($("#login-methods__verifyEmail").addClass("alert"),$(".modal-login__title").html("Email, CPF ou CNPJ não encontrado, por favor verifique e tente novamente."))}})}function sendCode(e,t){"Resend"===t&&(e=$("#login-methods__verifyEmail").val()),$.ajax({type:"POST",url:"/api/front/customer/generate-email-code/",data:{username:e},dataType:"json",success:function(e){"success"===e.status&&("Resend"===t?timeToResend():($(".code__message--email").html("".concat(encryptedEmail)),$(".loginAccessKey .email").addClass("disable"),$(".loginAccessKey .code").addClass("active")))}}).done(function(e){})}function verifyCode(){var e=$("#loginAccessKey__code").val();$.ajax({type:"POST",url:"/api/front/customer/login-with-email/",data:{code:e},dataType:"json",success:function(e){window.location.href="/"},error:function(e){$("#loginAccessKey__code").addClass("alert")}}).done(function(e){})}function timeToResend(){document.querySelector(".resend__code").removeAttribute("onclick"),document.querySelector(".resend__code").classList.add("disable"),document.querySelector(".resend__code--timer").innerHTML="45";var e=45,t=setInterval(function(){e--,document.querySelector(".resend__code--timer").innerHTML="".concat(e),e<0&&(clearInterval(t),document.querySelector(".resend__code--timer").innerHTML="",document.querySelector(".resend__code").setAttribute("onclick","verifyEmail(`Resend`)"),document.querySelector(".resend__code").classList.remove("disable"))},1e3)}function checkGooglLoginRenderElements(){document.getElementById("googlLoginButtonDiv")&&"undefined"!=typeof google&&google.accounts.id.renderButton(document.getElementById("googlLoginButtonDiv"),{theme:"outline",size:"large",width:"250"})}function triggerLogin(){$("#login.modal-login").addClass("active"),window.location.hash="login",checkGooglLoginRenderElements()}function closeLogin(){$("#login.modal-login").removeClass("active"),$(".loginAccessKey").hasClass("active")&&$(".loginAccessKey").removeClass("active"),$(".loginPassword").hasClass("active")&&$(".loginPassword").removeClass("active"),$(".login-methods").hasClass("disable")&&$(".login-methods").removeClass("disable"),$("#login-methods__verifyEmail").val("")}function showPassword(){document.querySelector(".modal-login__show-password").classList.toggle("show");var e=document.querySelector(".modal-login__input.password");"password"===e.type?e.type="text":e.type="password"}function focusOnInput(e){"email"===e?document.querySelector("#login-methods__verifyEmail").focus():"code"===e&&document.querySelector("#loginAccessKey__code").focus()}function goToSignup(){var e=document.querySelector("#login-methods__verifyEmail").value;window.location=""==e?window.location.origin+"/clientes/identificacao":window.location.origin+"/clientes/identificacao?email=".concat(e)}ProductScheduleService.prototype={requestAddToCart:function(i,n){$.ajax({type:"POST",url:"/api/front/cart/items/",data:JSON.stringify(i),headers:{"Content-Type":"application/json"},dataType:"json"}).done(function(e){n({success:!0,response:e,schedule:e})}).fail(function(e,t,a){n({success:!1,response:e.responseJSON,schedule:i})})},addToCart:function(t,a){function o5(e){i.push(e),++n===t.length&&a(i)}for(var i=[],e=t.length,n=0;e--;)this.requestAddToCart(t[e],o5)},notifyErrorAction:function(e,t){var a="<p>Não foi possível adicionar os seguintes horário(s) ao carrinho:</p><br />";for(error in e)a=(a+="<strong>"+new Date(e[error].schedule.schedule).toLocaleTimeString("it-IT")+"</strong>: ")+(e[error].response.quantity[0]+"<br />");Swal.fire({title:"Atenção",html:a,showCancelButton:!1,confirmButtonText:"Continuar",type:"warning",allowOutsideClick:!1,preConfirm:function(){Swal.close(),t()}}).then(function(){})}},(ProductService=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},get_summary_variations:function(i){var n=this;$.ajax({type:"GET",url:"/api/front/product/"+i+"/get-variations/",dataType:"json"}).done(function(e,t,a){$(n).trigger("onSuccessGetSummaryVariations",[e,i,a,t])}).fail(function(e,t,a){500==e.status&&(n.bind("onFailGetSummaryVariations500",n.handleronFailGetSummaryVariations500),$(n).trigger("onFailGetSummaryVariations500",[i,e,t,a]))})},getRelatedProducts:function(e){var i=this;$.ajax({type:"GET",url:"/api/front/product/"+e+"/get-related-products/",dataType:"json"}).done(function(e,t,a){$(i).trigger("onSuccessGetRelatedProducts",[e])}).fail(function(){alert("Houve um erro ao buscar os produtos escolhidos.")})},handleronFailGetSummaryVariations500:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Houve um erro ao buscar as variações do produto com id "+t+".")},get_search_autocomplete:function(n){var r=this;$.ajax({type:"GET",url:"/api/front/product/search-autocomplete/?q="+n,dataType:"json"}).done(function(e,t,a){$(r).trigger("onSuccessGetSearchAutoComplete",[e,n,a,t])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&$(r).trigger("onFailGetSearchAutoComplete400",[i,n,e,t,a]),500==e.status&&$(r).trigger("onFailGetSearchAutoComplete500",[n,e,t,a])})}},(ProductDetailService=function(){}).prototype={queryStr:current_giftlist_id?"&giftlist="+current_giftlist_id:"",bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},notify:function(e,t,a){var n=this;$(n).trigger("onBeforeNotifyNotAvailableProduct"),$.ajax({type:"POST",url:url_save_anavailable_product_notification,data:{name:e,email:t,produto:a},dataType:"json"}).done(function(e){n.bind("onSuccessNotifyNotAvailableProduct",n.handlerOnSuccessNotifyNotAvailableProduct),$(n).trigger("onSuccessNotifyNotAvailableProduct",[e])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(n.bind("onFailNotifyNotAvailableProductStatus400",n.handlerOnFailNotifyNotAvailableProductStatus400),$(n).trigger("onFailNotifyNotAvailableProductStatus400",[i])),500==e.status&&(n.bind("onFailNotifyNotAvailableProductStatus500",n.handlerOnFailNotifyNotAvailableProductStatus500),$(n).trigger("onFailNotifyNotAvailableProductStatus500",[i]))})},validateConsultPrice:function(i,n,r){var o=this;o.bind("onBeforevalidateConsultPrice",o.handlerOnBeforevalidateConsultPrice),$(o).trigger("onBeforevalidateConsultPrice"),$.ajax({type:"POST",url:url_api_validate_product_consult_price,data:i,dataType:"json"}).done(function(e,t,a){o.bind("onSuccessValidateConsultPrice",o.handlerOnSuccessValidateConsultPrice),$(o).trigger("onSuccessValidateConsultPrice",[i,n,r])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(o.bind("onFailValidateConsultPrice500",o.handlerOnFailValidateConsultPrice500),$(o).trigger("onFailValidateConsultPrice500",[i,n,r,e,t,a])):(o.bind("onFailValidateConsultPrice",o.handlerOnFailValidateConsultPrice),$(o).trigger("onFailValidateConsultPrice",[i,n,r,e,t,a]))})},handlerOnBeforeValidateConsultPrice:function(e,t,a,i){e.isDefaultPrevented()},handlerOnSuccessValidateConsultPrice:function(e,t,a,i){e.isDefaultPrevented()},handlerOnFailValidateConsultPrice500:function(e,t,a,i,n,r,o){e.isDefaultPrevented()||alert("Ocorreu um erro ao validar os dados.")},handlerOnFailValidateConsultPrice:function(e,t,a,i,n,r,o){e.isDefaultPrevented()},consultProductPrice:function(e,t,a,i,n,r){var o=this;data={produto:e,nome_usuario:t,email_usuario:a,telefone_usuario:i,observacao:n},$.ajax({type:"POST",url:url_api_product_consult_price,dataType:"json",data:data}).done(function(e){o.bind("onSuccessConsultProduct",o.handlerOnSuccessConsultProductPrice),$(o).trigger("onSuccessConsultProduct",[e,r])}).fail(function(e,t,a){400===e.status&&(o.bind("onFailConsultProduct400",o.handlerOnFailConsultProductPrice400),$(o).trigger("onFailConsultProduct400",[e]))})},handlerOnSuccessConsultProductPrice:function(e,t,a){e.isDefaultPrevented()||($.fancybox.close(),Swal.fire({title:"Sucesso",text:"Sua solicitação foi enviada com sucesso, logo entraremos em contato.",type:"success",confirmButtonText:"Continuar"}),a.find("#observacao").val(""))},handlerOnSuccessNotifyNotAvailableProduct:function(e,t){e.isDefaultPrevented()||Swal.fire("Sucesso!","Notificação enviada com sucesso! Logo que o produto estiver disponível você receberá um email avisando.","success")},handlerOnFailConsultProductPrice400:function(e,t){if(!e.isDefaultPrevented())for(var a in t.responseJSON){alert(t.responseJSON[a][0]);break}},handlerOnFailNotifyNotAvailableProductStatus400:function(e,t,a,i,n){if(!e.isDefaultPrevented())for(var r in t){alert(t[r][0]);break}},handlerOnFailNotifyNotAvailableProductStatus500:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Houve um erro ao cadastar seu email, por favor tente novamente.")},getAllDataProductDetail:function(n,r,o){var s=this;$(s).trigger("onBeforeGetAllDataProductDetail"),$.ajax({type:"GET",url:url_get_produto_detail+n+"/?id_auto="+r+"&view_origin="+view_origin+s.queryStr,dataType:"json"}).done(function(e){s.bind("onSuccessGetAllDataProductDetail",s.handlerOnSuccessGetAllDataProductDetail),$(s).trigger("onSuccessGetAllDataProductDetail",[e,n,r,o])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(s.bind("onFailGetAllDataProductDetailStatus400",s.handlerOnFailGetAllDataProductDetailStatus400),$(s).trigger("onFailGetAllDataProductDetailStatus400",[i,n,r,o,e,t,a])),500==e.status&&(s.bind("onFailGetAllDataProductDetailStatus500",s.handlerOnFailGetAllDataProductDetailStatus500),$(s).trigger("onFailGetAllDataProductDetailStatus500",[i,n,r,o,e,t,a]))})},handlerOnSuccessGetAllDataProductDetail:function(e,t,a,i,n){e.isDefaultPrevented()||($(".product_code__product_detail_"+t.auto_id_product_detail).html(t.codigo),$("#js-product_name__product_detail_"+t.auto_id_product_detail).replaceWith(t.product_name__product_detail),$("#js-product_price__product_detail_"+t.auto_id_product_detail).replaceWith(t.product_price__product_detail),$("#js-product_installments__product_detail_"+t.auto_id_product_detail).replaceWith(t.product_parcelas__product_detail),$("#js-produto_notify_not_available__product_detail_"+t.auto_id_product_detail).replaceWith(t.produto_notify_not_available__product_detail),$("#js-produto_sell_without_stock__product_detail_"+t.auto_id_product_detail).replaceWith(t.produto_sell_without_stock__product_detail),$("#js-product_button_add_to_cart__product_detail_"+t.auto_id_product_detail).replaceWith(t.product_button_add_to_cart__product_detail),$("#js-product_attributes__product_detail_"+t.auto_id_product_detail).replaceWith(t.product_attributes__product_detail),$("#js-product_schedules__product_detail").replaceWith(t.product_schedules__product_detail),$("#js-product_name__product_detail_keeping_buying").text(t.nome),$("#js-product_name__product_detail_consult_price").val(t.nome))},handlerOnFailGetAllDataProductDetailStatus400:function(e,t,a,i,n,r,o,s){if(!e.isDefaultPrevented())for(var d in t){alert(t[d][0]);break}},handlerOnFailGetAllDataProductDetailStatus500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("Houve um erro ao buscar os dados da variação selecionada, por favor tente novamente.")},getAllDataProductDetailList:function(n,r,o){var s=this;$(s).trigger("onBeforeGetAllDataProductDetail"),$.ajax({type:"GET",url:url_get_produto_detail_list+n+"/?id_auto="+r+"&view_origin="+view_origin+s.queryStr,dataType:"json"}).done(function(e){s.bind("onSuccessgetAllDataProductDetailList",s.handlerOnSuccessgetAllDataProductDetailList),$(s).trigger("onSuccessgetAllDataProductDetailList",[e,n,r,o])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(s.bind("onFailgetAllDataProductDetailListStatus400",s.handlerOnFailgetAllDataProductDetailListStatus400),$(s).trigger("onFailgetAllDataProductDetailListStatus400",[i,n,r,o,e,t,a])),500==e.status&&(s.bind("onFailgetAllDataProductDetailListStatus500",s.handlerOnFailgetAllDataProductDetailListStatus500),$(s).trigger("onFailgetAllDataProductDetailListStatus500",[i,n,r,o,e,t,a]))})},handlerOnSuccessgetAllDataProductDetailList:function(e,t,a,i,n){e.isDefaultPrevented()||(n.find("#js-product_price__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_price__product_detail_list),n.find("#js-product_widget_actions__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_widget_actions__product_detail_list))},handlerOnFailgetAllDataProductDetailListStatus400:function(e,t,a,i,n,r,o,s){if(!e.isDefaultPrevented())for(var d in t){alert(t[d][0]);break}},handlerOnFailgetAllDataProductDetailListStatus500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("Houve um erro ao buscar os dados da variação selecionada, por favor tente novamente.")},getAllDataProductDetailListCompreTambem:function(n,r,o){var s=this;$(s).trigger("onBeforeGetAllDataProductDetail"),$.ajax({type:"GET",url:url_get_produto_detail_list_compre_tambem+n+"/?id_auto="+r+"&view_origin=compre_tambem"+s.queryStr,dataType:"json"}).done(function(e){s.bind("onSuccessgetAllDataProductDetailListCompreTambem",s.handlerOnSuccessgetAllDataProductDetailListCompreTambem),$(s).trigger("onSuccessgetAllDataProductDetailListCompreTambem",[e,n,r,o])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(s.bind("onFailgetAllDataProductDetailListCompreTambemStatus400",s.handlerOnFailgetAllDataProductDetailListCompreTambemStatus400),$(s).trigger("onFailgetAllDataProductDetailListCompreTambemStatus400",[i,n,r,o,e,t,a])),500==e.status&&(s.bind("onFailgetAllDataProductDetailListCompreTambemStatus500",s.handlerOnFailgetAllDataProductDetailListCompreTambemStatus500),$(s).trigger("onFailgetAllDataProductDetailListCompreTambemStatus500",[i,n,r,o,e,t,a]))})},handlerOnSuccessgetAllDataProductDetailListCompreTambem:function(e,t,a,i,n){e.isDefaultPrevented()||(n.find("#js-product_price__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_price__product_detail_list),n.find("#js-product_widget_actions__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_widget_actions__product_detail_list))},handlerOnFailgetAllDataProductDetailListCompreTambemStatus400:function(e,t,a,i,n,r,o,s){if(!e.isDefaultPrevented())for(var d in t){alert(t[d][0]);break}},handlerOnFailgetAllDataProductDetailListCompreTambemStatus500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("Houve um erro ao buscar os dados da variação selecionada, por favor tente novamente.")},getAllDataProductDetailListOrderBump:function(n,r,o){var s=this;$(s).trigger("onBeforeGetAllDataProductDetail"),$.ajax({type:"GET",url:url_get_produto_detail_list_compre_tambem+n+"/?id_auto="+r+"&view_origin=checkout"+s.queryStr,dataType:"json"}).done(function(e){s.bind("onSuccessgetAllDataProductDetailListOrderBump",s.handlerOnSuccessgetAllDataProductDetailListOrderBump),$(s).trigger("onSuccessgetAllDataProductDetailListOrderBump",[e,n,r,o])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(s.bind("onFailgetAllDataProductDetailListOrderBumpStatus400",s.handlerOnFailgetAllDataProductDetailListOrderBumpStatus400),$(s).trigger("onFailgetAllDataProductDetailListOrderBumpStatus400",[i,n,r,o,e,t,a])),500==e.status&&(s.bind("onFailgetAllDataProductDetailListOrderBumpStatus500",s.handlerOnFailgetAllDataProductDetailListOrderBumpStatus500),$(s).trigger("onFailgetAllDataProductDetailListOrderBumpStatus500",[i,n,r,o,e,t,a]))})},handlerOnSuccessgetAllDataProductDetailListOrderBump:function(e,t,a,i,n){e.isDefaultPrevented()||(n.find("#js-product_price__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_price__product_detail_list),n.find("#js-product_widget_actions__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_widget_actions__product_detail_list))},handlerOnFailgetAllDataProductDetailListOrderBumpStatus400:function(e,t,a,i,n,r,o,s){if(!e.isDefaultPrevented())for(var d in t){alert(t[d][0]);break}},handlerOnFailgetAllDataProductDetailListOrderBumpStatus500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("Houve um erro ao buscar os dados da variação selecionada, por favor tente novamente.")},getAllDataProductDetailListBuyTogetherCampaign:function(n,r,e,o){var s=this;$(s).trigger("onBeforeGetAllDataProductDetail"),$.ajax({type:"POST",url:url_get_produto_detail_list_buy_together_campaign+n+"/",dataType:"json",data:{id_auto:r,view_origin:view_origin,products_and_minimum_qty:e}}).done(function(e){s.bind("onSuccessgetAllDataProductDetailListBuyTogetherCampaign",s.handlerOnSuccessgetAllDataProductDetailListBuyTogetherCampaign),$(s).trigger("onSuccessgetAllDataProductDetailListBuyTogetherCampaign",[e,n,r,o])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(s.bind("onFailgetAllDataProductDetailListBuyTogetherCampaignStatus400",s.handlerOnFailgetAllDataProductDetailListBuyTogetherCampaignStatus400),$(s).trigger("onFailgetAllDataProductDetailListBuyTogetherCampaignStatus400",[i,n,r,o,e,t,a])),500==e.status&&(s.bind("onFailgetAllDataProductDetailListBuyTogetherCampaignStatus500",s.handlerOnFailgetAllDataProductDetailListBuyTogetherCampaignStatus500),$(s).trigger("onFailgetAllDataProductDetailListBuyTogetherCampaignStatus500",[i,n,r,o,e,t,a]))})},handlerOnSuccessgetAllDataProductDetailListBuyTogetherCampaign:function(e,t,a,i,n){e.isDefaultPrevented()||(n&&n.find("#js-product_price__product_detail_list_"+t.auto_id_product_detail).replaceWith(t.product_price__product_detail_list),$("#js_buy_together_total_value_and_installments").replaceWith(t.total_value_and_installments))},handlerOnFailgetAllDataProductDetailListBuyTogetherCampaignStatus400:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||($.fancybox.close(),alert("Erro ao buscar as variações dos produtos da campanha"))},handlerOnFailgetAllDataProductDetailListBuyTogetherCampaignStatus500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()||alert("Houve um erro ao buscar os dados da variação selecionada, por favor tente novamente.")},getProdutoWidgetToolsDetailListView:function(n,r,o){var s=this;$(s).trigger("onBeforeProdutoWidgetToolsDetailListView"),$.ajax({type:"GET",url:url_produto_widget_tools_detail_list+n+"/?id_auto="+r+"&view_origin="+view_origin+s.queryStr+"&is_referenced="+o.attr("data-main-product-is-reference")+"&main_product_select_limit="+o.attr("data-main-product-select-limit")+"&has_addons="+o.attr("data-product-has-addons"),dataType:"json"}).done(function(e){s.bind("onSuccessProdutoWidgetToolsDetailListView",s.handlerOnSuccessProdutoWidgetToolsDetailListView),$(s).trigger("onSuccessProdutoWidgetToolsDetailListView",[e,n,r,o])}).fail(function(e,t,a){var i=e.responseJSON;400==e.status&&(s.bind("onFailProdutoWidgetToolsDetailListViewStatus400",s.handlerOnFailProdutoWidgetToolsDetailListViewStatus400),$(s).trigger("onFailProdutoWidgetToolsDetailListViewStatus400",[i,n,r,o,e,t,a])),500==e.status&&(s.bind("onFailProdutoWidgetToolsDetailListViewStatus500",s.handlerOnFailProdutoWidgetToolsDetailListViewStatus500),$(s).trigger("onFailProdutoWidgetToolsDetailListViewStatus500",[i,n,r,o,e,t,a]))})},handlerOnSuccessProdutoWidgetToolsDetailListView:function(e,t,a,i,n){e.isDefaultPrevented()||($(this).trigger("onBeforeAddProdutoWidgetToolsDetailListView",[t,a,i,n]),$(n).html(t),$(this).trigger("onAfterAddProdutoWidgetToolsDetailListView",[t,a,i,n]))},handlerOnFailProdutoWidgetToolsDetailListViewStatus400:function(e,t,a,i,n,r,o,s){if(!e.isDefaultPrevented())for(var d in t){alert(t[d][0]);break}},handlerOnFailProdutoWidgetToolsDetailListViewStatus500:function(e,t,a,i,n,r,o,s){e.isDefaultPrevented()},getAllDataProductDetailListAddTogether:function(e,i){$.ajax({type:"GET",url:url_add_together+e+"/",dataType:"json"}).done(function(e){i.innerHTML=e,i.classList.add("loaded")}).fail(function(e,t,a){i.remove()})}},(FormService=function(){}).prototype={getDataCep:function(e,n){var r=this,t={};t.cep=e,$(r).trigger("onBeforeGetDataCep"),$.ajax({type:"POST",url:url_buscar_cep,data:t,dataType:"json"}).done(function(e){r.bind("onSuccessGetDataCep",r.handlerOnSuccessGetDataCep),$(r).trigger("onSuccessGetDataCep",[e,n])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status&&(r.bind("onFailGetDataCepStatus500",r.handlerOnFailGetDataCepStatus500),$(r).trigger("onFailGetDataCepStatus500",[i,n,e,t,a])),400==e.status&&(r.bind("onFailGetDataCepStatus400",r.handlerOnFailGetDataCepStatus400),$(r).trigger("onFailGetDataCepStatus400",[i,n,e,t,a]))})},bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},handlerOnFailGetDataCepStatus500:function(e,t,a,i,n,r){e.isDefaultPrevented()||alert("Houve um erro ao buscar o CEP, por favor tente novamente.")},handlerOnFailGetDataCepStatus400:function(e,t,a,i,n,r){var o;e.isDefaultPrevented()||((a=$(a)).find(".tipo-logradouro-address-input").val(""),e=a.find(".logradouro-address-input"),o=a.find(".bairro-address-input"),e.val(""),o.val(""),a.find(".cidade-address-input").val(""),a.find(".estado-address-input").val(""),a.find(".ibge-municipio-verificador-address-input").val(""),a.find(".ibge-municipio-address-input").val(""),a.find(".ibge-uf-address-input").val(""))},handlerOnSuccessGetDataCep:function(e,t,a){var i,n,r;e.isDefaultPrevented()||((a=$(a)).find(".tipo-logradouro-address-input").val(t.tipo_logradouro),e=a.find(".logradouro-address-input"),i=a.find(".bairro-address-input"),n=a.find(".cidade-address-input"),r=a.find(".estado-address-input"),t.logradouro?e.val(t.logradouro):e.val(""),t.bairro?i.val(t.bairro):i.val(""),t.cidade?n.val(t.cidade):n.val(""),t.uf?r.val(t.uf).trigger("change"):r.val(""),a.find(".ibge-municipio-verificador-address-input").val(t.ibge_municipio_verificador),a.find(".ibge-municipio-address-input").val(t.ibge_municipio),a.find(".ibge-uf-address-input").val(t.ibge_uf))},propTermsFiled:function(e){var t=e.find("input[name='termos_politicas']");null==t&&(t=$("#id_usage_terms_compliance")),$(".js-registration-terms-modal-accept").click(function(){t.prop("checked",!0),$.fancybox.close()}),$(".js-registration-terms-modal-refuse").click(function(){t.prop("checked",!1),$.fancybox.close()})}},(MyAccountService=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},confirm:function(a){function confirm(e,t){return a.apply(this,arguments)}return confirm.toString=function(){return a.toString()},confirm}(function(e,t){confirm(e,null,null,t)}),deleteDeliveryAddress:function(e){var n=this;n.confirm("Deseja realmente deletar este endereço?",function(){$.ajax({type:"DELETE",url:url_del_endereco_entrega+e+"/",dataType:"json"}).done(function(e){n.bind("onHandlerOnSuccessDeleteDeliveryAddress",n.handlerOnSuccessDeleteDeliveryAddress),$(n).trigger("onHandlerOnSuccessDeleteDeliveryAddress")}).fail(function(e,t,a){var i=e.responseJSON;500==e.status&&(n.bind("onHandlerOnFailDeleteDeliveryAddress500",n.handlerOnFailDeleteDeliveryAddress500),$(n).trigger("onHandlerOnFailDeleteDeliveryAddress500",[i,e,t,a])),404==e.status&&(n.bind("onHandlerOnFailDeleteDeliveryAddress404",n.handlerOnFailDeleteDeliveryAddress404),$(n).trigger("onHandlerOnFailDeleteDeliveryAddress404",[i,e,t,a]))})})},handlerOnSuccessDeleteDeliveryAddress:function(e,t){e.isDefaultPrevented()||window.location.reload(!0)},handlerOnFailDeleteDeliveryAddress500:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Ocorreu um erro ao deletar este endereço. Por favor tente novamente.")},handlerOnFailDeleteDeliveryAddress404:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Endereço de entrega não encontrado.")}},(ContactFormService=function(){}).prototype={getAnswersSubject:function(e){var n=this;$(n).trigger("onBeforeGetAnswersSubject"),$.ajax({type:"POST",url:url_get_respostas_assunto_contato,data:{id_assunto:e},dataType:"json"}).done(function(e){n.bind("onSuccessGetAnswersSubject",n.handlerOnSuccessGetAnswersSubject),$(n).trigger("onSuccessGetAnswersSubject",[e])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status&&(n.bind("onFailGetAnswersSubject500",n.handlerOnFailGetAnswersSubject500),$(n).trigger("onFailGetAnswersSubject500",[i,e,t,a])),404==e.status&&(n.bind("onFailGetAnswersSubject400",n.handlerOnFailGetAnswersSubject400),$(n).trigger("onFailGetAnswersSubject400",[i,e,t,a]))})},bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},handlerOnFailGetAnswersSubject500:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Houve um erro ao buscar as respostas comuns para este assunto, por favor tente novamente.")},handlerOnFailGetAnswersSubject400:function(e,t,a,i,n){e.isDefaultPrevented()||$("#assunto_resposta").html("")},handlerOnSuccessGetAnswersSubject:function(e,t){e.isDefaultPrevented()||$("#assunto_resposta").html(t)}},(SignUpService=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},checkCNPJ:function(e,n){var r=this;$.ajax({url:"/clientes/consulta-audicon/",type:"POST",dataType:"json",data:{cnpj:e}}).done(function(e){r.bind("onSuccessCheckCNPJ",r.handlerOnSuccessCheckCNPJ),$(r).trigger("onSuccessCheckCNPJ",[e,n])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status&&(r.bind("onFailCheckCNPJStatus500",r.handlerOnFailCheckCNPJStatus500),$(r).trigger("onFailCheckCNPJStatus500",[i,n,e,t,a])),400==e.status&&(r.bind("onFailCheckCNPJStatus400",r.handlerOnFailCheckCNPJStatus400),$(r).trigger("onFailCheckCNPJStatus400",[i,n,e,t,a]))})},handlerOnSuccessCheckCNPJ:function(e,t,a){e.isDefaultPrevented()},handlerOnFailCheckCNPJStatus500:function(e,t,a,i,n,r){e.isDefaultPrevented()||(alert("Ocorreu um erro ao consultar o CNPJ "+t.cnpj),modal_signup.clear())},handlerOnFailCheckCNPJStatus400:function(e,t,a,i,n,r){e.isDefaultPrevented()||(alert("Não foi possí­vel encontrar o CNPJ "+t.cnpj+", por favor verifique novamente."),modal_signup.clear())}},(WishlistService=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},save:function(t,a){var i=this;$.ajax({type:"POST",url:url_api_wishlist,dataType:"json",data:{product_id:a}}).done(function(e){Swal.fire({title:"Sucesso",text:e.msg,type:"success",confirmButtonText:"Continuar",showCancelButton:!0,cancelButtonText:"Ver Lista",reverseButtons:!0}).then(function(e){e.dismiss&&(window.location.href="/clientes/minha-conta/minha-lista-de-produtos/")}),t.addClass("active")}).fail(function(e){400==e.status?Swal.fire({title:"Aviso",text:e.responseJSON.msg,type:"warning",showCancelButton:!0,confirmButtonText:"Remover",cancelButtonText:"Cancelar"}).then(function(e){1==e.value&&i.destroy(t,a)}):401==e.status?Swal.fire({title:"Aviso",text:e.responseJSON.msg,type:"warning",showCancelButton:!0,confirmButtonText:"Fazer login",cancelButtonText:"Cancelar"}).then(function(e){1==e.value&&(window.location.href=url_cadastro_pessoa_fisica)}):alert(e.responseJSON.msg)})},destroy:function(a,e){$.ajax({type:"DELETE",url:url_api_wishlist,dataType:"json",data:{product_id:e}}).done(function(e){var t=$("body").attr("id");Swal.fire("Removido","Item removido com sucesso.","success"),a.removeClass("active"),"wishlist"===t&&(a.closest("li").fadeOut(),a.closest(".item").fadeOut())}).fail(function(e,t,a){})},is_public:function(t){var a=this;$.ajax({type:"GET",url:url_wishlist_public,dataType:"json",data:""}).done(function(e){t&&("update_status"==t?(a.bind("onSuccessGetWishlistUpdateStatus",a.handlerOnSuccessGetWishlistUpdateStatus),$(a).trigger("onSuccessGetWishlistUpdateStatus",[e])):"open_form"==t&&(a.bind("onSuccessGetWishlistOpenForm",a.handlerOnSuccessGetWishlistOpenForm),$(a).trigger("onSuccessGetWishlistOpenForm",[e])))}).fail(function(e,t,a){})},handlerOnSuccessGetWishlistUpdateStatus:function(e,t){var a=$(".js-wishlist-sharing-button"),i=$(".js-wishlist-functions"),t=t.is_public?0:1;this.change_status(t),t?(a.text("Tornar lista privada"),i.addClass("active")):(a.text("Tornar lista pública"),i.removeClass("active"))},handlerOnSuccessGetWishlistOpenForm:function(e,t){t.is_public?$("a.js-wishlist-modal-form-link-trigger").fancybox().trigger("click"):alert("Para enviar a lista, essa precisa estar com 'status de pública'. Para isto, clique no botão 'Tornar lista pública'")},change_status:function(e){$.ajax({type:"POST",url:url_wishlist_public,dataType:"json",data:{is_public:e}}).done(function(e){}).fail(function(e,t,a){})},sendEmail:function(e,t,a,i){$.ajax({type:"POST",url:url_wishlist_send_email,data:{lista_id:e,nome:t,email:a,mensagem:i}}).done(function(e){$.fancybox.close(),$("#js_form_email_wishlist").trigger("reset"),Swal.fire("Sucesso","Mensagem enviada com sucesso.","success")}).fail(function(e,t,a){$.fancybox.close(),$("#js_form_email_wishlist").trigger("reset"),Swal.fire("Erro","Erro ao enviar mensagem.","error")})}},(Campaign=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},addToCartBuyTogetherCampaign:function(e){for(var t=new CartService,a=(window.cart_preview.watchCartServiceForEvents(t),$(t).bind("onAfterAddOrUpdateCartItem",function(e,t,a,i,n){var r=document.querySelectorAll('ul[id^="js_buy_together_api_group_"] .product-item'),o=[];Array.from(r).forEach(function(e){o.push({item_id:e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-product-sku"),item_name:e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-product-name"),affiliation:e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-product-affiliation"),discount:e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-preco-de")?Number(e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-preco-de").replace(/[^0-9.-]+/g,"").replace(".",""))/100-Number(e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100:0,item_brand:e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-product-brand-name")?e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-product-brand-name"):"",item_list_name:"product_detail",price:e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-preco-de")?Number(e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-preco-de").replace(/[^0-9.-]+/g,"").replace(".",""))/100:Number(e.querySelector('div[id^="widget_tools__product_detail_list_"]').getAttribute("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100,quantity:Number(1)})}),dataLayer.push({event:"add_to_cart",currency:"BRL",value:document.querySelector(".buy-together-api .payment-condition-title").getAttribute("totalvalue")?Number(document.querySelector(".buy-together-api .payment-condition-title").getAttribute("totalvalue").replace(/[^0-9.-]+/g,"").replace(".",""))/100:0,items:o}),e.preventDefault(),window.location.href=url_carrinho}),[]),i=[],n=[],r=0;r<e.length;r++)a.push(e[r].product_id),i.push(e[r].product_minimum_qty),n.push(!1);var o=t.getCartAddOrUpdatePayload(a,i,n,!1,[],[],[],[],[],[],!1);t.addOrUpdateCartItem(o)}},(CampaignBuyTogether=function(){}).prototype={bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},requestCampaign:function(t,a,e,i,n){var r=this;e=e||{},n=Boolean(n),e=r.getRequestProcessTemplatesFilters(e,i,a),$(r).trigger("onBeforeRequestCampaign",[]),$.ajax({type:"GET",url:url_buy_together_campaign_base_endpoint+t+"/component/"+a+"/",data:e,dataType:"json",contentType:"application/json"}).done(function(e){r.bind("onSuccessRequestCampaign",r.handlerOnSuccessRequestCampaign),$(r).trigger("onSuccessRequestCampaign",[e,t,a,i,n])}).fail(function(e,t,a){r.bind("onFailRequestCampaign",r.handlerOnFailRequestCampaign),$(r).trigger("onFailRequestCampaign",[e,t,a])})},handlerOnSuccessRequestCampaign:function(e,t){e.isDefaultPrevented()},getRequestProcessTemplatesFilters:function(e,t,a){var i=["group_0","group_1","group_2"];if(t)for(var n in i){n=i[n];skip_templates=t==n?"false":"true",2==a&&"group_0"==n&&(skip_templates="true"),e[n+"_skip_templates"]=skip_templates}return 2==a&&(e.group_0_skip_templates="true"),e},getGroupsProductsAndQuantities:function(e){var r=[],t=$("#js_buy_together_api_layout_"+e+"_groups"),o=!1,s=2==e?"Para comprar este produto você precisa escolher uma opção de brinde.":null;return t.find(".product__product_detail_list").each(function(e,t){var a=$(this).attr("data-id-auto"),i=$(this).attr("data-id-current"),n=$(this).attr("data-id"),a=$('[name="product_item_variation__product_detail_'+a+"_"+n+'"]'),n=common_functions.verify_if_need_select_product_variation_and_alert(a,s),a=$(this).closest('ul[id^="js_buy_together_api_group_"]').attr("data-minimum-quantity");n?o=!0:r.push({product_id:i,product_minimum_qty:a})}),o?[]:r}},$(function(){$("#login-methods__verifyEmail").keyup(function(e){13===e.keyCode&&verifyEmail()}),$("#loginAccessKey__code").keyup(function(e){13===e.keyCode&&verifyCode()})}),$(function(){var t=new IdentificationService;$(t).bind("onFailRecoverPasswordStatus onFailVerifyRegisteredStatus400 onFailLoginStatus401",function(e,t,a,i,n,r){for(var o in e.preventDefault(),t){a.find("#form-username_error").html(t[o][0]);break}}),$(t).bind("onSuccessLogin",function(){$.fancybox.close(),history.pushState("",document.title,window.location.pathname)}),$("#login-form").submit(function(e){e.preventDefault(),t.login($(this))}),$("#login-form input[name='username']").keydown(function(e){$(this).unmask()}),$("#login-form input[name='username']").on("input",function(e){var t=$(this),a=t.val(),i=/^\d+$/.test(a),a=a.length;i?a<=11?t.mask("999.999.999-99"):(11<a||14===a)&&t.mask("99.999.999/9999-99"):t.unmask()})}),$(function(){patternShowItemCart&&($(window).width()<=768?(infoUser.showInfoUser=function(e){this.info_user.animate({bottom:0})},infoUser.hideInfoUser=function(e){clearInterval(this.hideTimer);var t=this;this.hideTimer=setTimeout(function(){t.info_user.animate({bottom:"-270px"})},t.info_user_close_timeout)},infoUser.setMessage=function(e){$(".message",this.info_user).html("<p>Adicionado no carrinho: "+e[0].quantity+" </p>").show()}):(infoUser.showInfoUser=function(e){this.info_user.addClass("is-showQ")},infoUser.hideInfoUser=function(e){clearInterval(this.hideTimer);var t=this;this.hideTimer=setTimeout(function(){t.info_user.removeClass("is-showQ")},t.info_user_close_timeout)},infoUser.setMessage=function(e){var t=e;$(".message",this.info_user).html('<div class="container_generalQ previewQ align-items-center p-2 d-flex"><figure class="col-3 p-2"><img src="'+t[0].product.image+'" alt="'+t[0].product.name+'" width="100%"></figure><div class="col contentQ container_generalQ"><section class="headerQ mb-2">Adicionado ao carrinho</section><section class="bodyQ mb-3">'+t[0].product.name+'</section><section class="footerQ"> Quantidade: '+t[0].quantity+"</section></div></div>").show();fetch("/api/front/cart/items/").then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.as_free}).length;e=e.filter(function(e){return!e.as_free});return parentBrinde=e[0],infosBrinde=[t,parentBrinde]}).then(function(e){t[0].as_free&&(labelBrinde=1<e[0]?"BRINDES":"BRINDE")&&$(".message",this.info_user).html('<section><div class="container_general previewQ align-items-center p-2 d-flex"><figure  class="col-3 p-2"><img src="'+parentBrinde.product.image+'" alt="'+parentBrinde.product.name+'" width="100%"></figure><div class="col contentQ container_general"><section class="headerQ mb-2">Adicionado ao carrinho</section><section class="bodyQ mb-3">'+parentBrinde.product.name+'</section><section class="footerQ"> Quantidade: '+t[0].quantity+'</section></div></div><div class="d-flex align-items-center justify-content-center text-center item-brinde"><section class="label-brindeQ">VOCÊ GANHOU '+e[0]+" "+labelBrinde+" </section></div></section>")}).catch(function(){})}))});var cart_preview=new CartPreview,qtd_min_to_add_cart=1,qtd_interval_to_add_cart=1;function activeRating(e){$(".js-rating__item__star.active").removeClass("active"),$(".js-rating__item__star").each(function(){$(this).data("rating")<=e&&$(this).addClass("active")})}$(function(){cart_common_service=new CartService,cart_preview.watchCartServiceForEvents(cart_common_service),cart_common_service.bind("onAfterAddOrUpdateCartItem",function(e,t,a,i,n){e.preventDefault(),infoUser.setMessage(t),infoUser.showInfoUser(),infoUser.hideInfoUser(),cart_preview.renderCartPreview()}),cart_common_service.bind("onFailAddItemCartStatus500",function(e,t,a,i,n){infoUser.hideInfoUser()}),cart_common_service.bind("onFailAddItemCartConsultPrice",function(e,t,a,i,n){infoUser.notOpenInfoUser()}),common_functions=new CommonFunctions,cart_preview.renderCartPreview(),cart=new CartService,cart_preview.watchCartServiceForEvents(cart_common_service),product_detail_service=new ProductDetailService,contact_form_service=new ContactFormService,modal_signup=new Modal($("#modal_signup")),shipping_service=new ShippingService,campaign_class=new Campaign,campaign_common=new CampaignCommon,campaign_buy_together=new CampaignBuyTogether});var current_form_to_validate,current_form_id,ua=navigator.userAgent.toLowerCase(),isAndroid=-1<ua.indexOf("android")&&ua.indexOf("mobile"),getBuyTogetherLayouts=(window.globalFormService=new FormService,$(function(){function qm(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"}var a=globalFormService,e=($("#id_cep").blur(function(e){$(this).parent().find(".input-loader").fadeIn(500),a.getDataCep($(this).val(),$(this).closest("form"))}),a.bind("onSuccessGetDataCep",function(e,t,a){a=$(a),$(a).find("#id_cep").parent().find(".input-loader").fadeOut(500)}),a.bind("onFailGetDataCepStatus400 onFailGetDataCepStatus500",function(e,t,a,i,n,r){(a=$(a)).find("#id_cep").parent().find(".input-loader").fadeOut(500)}),$("#id_cep").mask("99999-999"),$("#id_nascimento").mask("99/99/9999"),$("#id_cpf").mask("999.999.999-99"),$("#id_cnpj").mask("99.999.999/9999-99"),{onKeyPress:function(e,t,a,i){a.mask(qm.apply({},arguments),i)}});$("#id_celular, #id_telefone1, #id_telefone2").mask(qm,e),$('input[name="tipo_pessoa"]').change(function(e){"PF"==$(this).val()?location.href=url_cadastro_pessoa_fisica+(current_query_string?"?"+current_query_string:""):location.href=url_cadastro_pessoa_juridica+(current_query_string?"?"+current_query_string:"")}),navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||isAndroid||$(".js-rating__item__star").hover(function(e){e.preventDefault(),activeRating($(this).data("rating"))},function(){activeRating($(".js-rating__input__star").val())}),$(".js-rating__item__star").on("click",function(e){e.preventDefault();e=$(this).data("rating");activeRating(e),$(".js-rating__input__star").val(e)}),$(document).ready(function(){$(".registration-terms-modal-scroll").mCustomScrollbar({advanced:{updateOnContentResize:!0},scrollButtons:{enable:!1},mouseWheelPixels:"500",theme:"dark-2"})}),$("body").on("click",".js-registration-terms-mask",function(e){var t=$(this);$(".js-registration-terms-modal-content").html(t.attr("data-modal-terms")),a.propTermsFiled(t)})}),$(function(){$("body").on("click",".js-button-add-product-to-cart__product-list, .js-button-add-product-to-cart__product-list-mobile, .js-button-add-product-to-cart__product-list-to-cart",function(e){var t,a,i,n=this.className,e=(e.preventDefault(),$(e.currentTarget)),r=e.attr("data-buying-behaviour"),o=$("[name='product_item_variation__product_detail_"+e.attr("data-id-auto")+"_"+e.attr("data-id")+"']"),s=e.closest(".product-item"),d=s.find(".product-item__terms"),l=s.hasClass("terms-accept");if(d.length&&!l)t=s,a=e,(i=d).addClass("active"),i.find(".js-btn-accept-terms").on("click",function(e){i.removeClass("active"),t.addClass("terms-accept"),a.click()}),i.find(".btn-deny").on("click",function(e){i.removeClass("active")});else{if(1==r){l=common_functions.verify_if_need_select_product_variation_and_alert(o);if(l)return;var c,s=e.closest(".product__product_detail_list"),d=s.find(".choose-quantity").hasClass("measure")?s.find(".product-detail__measure--input"):s.find(".product_qtd__product_detail_list"),o=(0===d.length&&(d=s.find(".product_qtd__product_detail_list")),!1),u=!!s.find(".choose-quantity").hasClass("measure"),s=(d.length&&(c=s.find(".choose-quantity").hasClass("measure")?parseInt(d.attr("hiddenValue")):parseInt(d.attr("value")),o=!0),c=c||1,common_functions.get_id_product(e)),d=cart_common_service.getCartAddOrUpdatePayload([s],[c],[o],[!1],[],[],[],[],[],[],[u]);cart_common_service.addOrUpdateCartItem(d),"js-button-add-product-to-cart__product-list-to-cart"==n&&setTimeout(function(){location.href="/carrinho"},1e3),l||dataLayer.push({event:"add_to_cart",currency:"BRL",value:Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100*($(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value")?$(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value"):1),items:[{item_id:$(this).attr("data-product-sku")?$(this).attr("data-product-sku"):"",item_name:$(this).attr("data-product-name")?$(this).attr("data-product-name"):"",affiliation:$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-product-affiliation")?$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-product-affiliation"):"",discount:$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de")?Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de").replace(/[^0-9.-]+/g,"").replace(".",""))/100-Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100:0,item_brand:$(this).attr("data-product-brand-name")?$(this).attr("data-product-brand-name"):"",item_list_name:"product_item",price:$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de")?Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de").replace(/[^0-9.-]+/g,"").replace(".",""))/100:Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100,quantity:$(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value")?$(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value"):1}]})}else 2==r&&(s=common_functions.get_id_product_parent_or_self(e),common_functions.addToCartAllGridProduct(s,cart_common_service),dataLayer.push({event:"add_to_cart",currency:"BRL",value:Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100*($(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value")?$(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value"):1),items:[{item_id:$(this).attr("data-product-sku")?$(this).attr("data-product-sku"):"",item_name:$(this).attr("data-product-name")?$(this).attr("data-product-name"):"",affiliation:$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-product-affiliation")?$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-product-affiliation"):"",discount:$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de")?Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de").replace(/[^0-9.-]+/g,"").replace(".",""))/100-Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100:0,item_brand:$(this).attr("data-product-brand-name")?$(this).attr("data-product-brand-name"):"",item_list_name:"product_item",price:$(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de")?Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-de").replace(/[^0-9.-]+/g,"").replace(".",""))/100:Number($(this).closest(".product-item").find('div[id^="widget_tools__product_detail_list_"]').attr("data-preco-por").replace(/[^0-9.-]+/g,"").replace(".",""))/100,quantity:$(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value")?$(this).closest(".product-item").find(".product_qtd__product_detail_list").attr("value"):1}]}));"/carrinho/"===window.location.pathname&&cart_common_service.getCartContent()}}),$("body").on("click",".js_product_quantity_wrapper .js_minus",function(e){var t=(t=parseInt($(".js_product_quantity_wrapper .js_quantity").val()))<=qtd_min_to_add_cart?qtd_min_to_add_cart:(Math.floor(t/qtd_interval_to_add_cart)-1)*qtd_interval_to_add_cart;$(".js_product_quantity_wrapper .js_quantity").val(t)}),$("body").on("click",".js_product_quantity_wrapper .js_plus",function(e){var t=(t=parseInt($(".js_product_quantity_wrapper .js_quantity").val()))<qtd_min_to_add_cart?qtd_min_to_add_cart:(Math.floor(t/qtd_interval_to_add_cart)+1)*qtd_interval_to_add_cart;$(".js_product_quantity_wrapper .js_quantity").val(t)}),$(".js_product_quantity_wrapper .js_plus").click(),$("body").on("mouseenter",".product__product_detail_list",function(e){common_functions.eventGenericElementDispatcher("itemMouseenterGetWidgets",$(this))}),$("body").on("change",'input[name^="product_item_variation__product_detail_"]',function(e){common_functions.eventGenericElementDispatcher("itemVariationChangeByCheckbox",$(this))}),$("body").on("change",'select[name^="product_item_variation__product_detail_"]',function(e){common_functions.eventGenericElementDispatcher("itemVariationChangeBySelect",$(this))}),$(common_functions).bind("itemVariationChangeByCheckbox itemVariationChangeBySelect",function(e,t){(origin_location=t.attr("data-origin-location"))&&("product_detail_list"==origin_location?common_functions.eventGenericElementDispatcher("itemVariationChangeOnProductDetailList",t):("buy_together_campaign"==origin_location&&common_functions.eventGenericElementDispatcher("itemVariationChangeOnBuyTogetherCampaign",t),"product_detail"==origin_location?common_functions.eventGenericElementDispatcher("itemVariationChangeOnProductDetail",t):"compre_tambem"==origin_location?common_functions.eventGenericElementDispatcher("itemVariationChangeOnCompreTambem",t):"checkout"==origin_location&&common_functions.eventGenericElementDispatcher("itemVariationChangeOnOrderBump",t)))}),$(common_functions).bind("itemMouseenterGetWidgets",function(e,t){var a,i,n=t.find(".product-item__image img").hasClass("loaded-img"),r=t.attr("data-id"),o=t.attr("data-id-auto"),s=t.find("#widget_tools__product_detail_list_"+o);s.length&&0==s.children().length&&product_detail_service.getProdutoWidgetToolsDetailListView(r,o,s),1==n&&(a=t.find(".product-item__image img"),""!=(r=t.data("mouseover")))&&(i=a.attr("src"),a.attr("src",r),t.bind("mouseleave",function(e){a.attr("src",i)}))}),$("body").on("change",".js_referenced-qtd-select",function(){var e=parseInt($(this).val()),t=$(this).closest(".product-item__border"),a=$(t).find(".js_referenced-price"),t=$(t).find(".js_referenced-price").attr("data-product-price"),t=parseFloat(t.replace(",","."));0<e?$(a).html((t*e).toFixed(2)):$(a).html(t.toFixed(2))}),$(common_functions).bind("itemVariationChangeOnProductDetailList",function(e,t){e.preventDefault();var e=t.closest(".product__product_detail_list"),a=common_functions.get_id_item_sel_to_add_cart(t),t=t.attr("data-id-auto");e.attr("data-id-current",a),product_detail_service.getAllDataProductDetailList(a,t,e)}),$(common_functions).bind("itemVariationChangeOnCompreTambem",function(e,t){e.preventDefault();var e=t.closest(".product__product_detail_list"),a=common_functions.get_id_item_sel_to_add_cart(t),t=t.attr("data-id-auto");e.attr("data-id-current",a),product_detail_service.getAllDataProductDetailListCompreTambem(a,t,e)}),$(common_functions).bind("itemVariationChangeOnOrderBump",function(e,t){e.preventDefault();var e=t.closest(".product__product_detail_list"),a=common_functions.get_id_item_sel_to_add_cart(t),t=t.attr("data-id-auto");e.attr("data-id-current",a),product_detail_service.getAllDataProductDetailListOrderBump(a,t,e)}),common_functions.lazyLoadImages(".lazy-img");var r=new WishlistService,o=($("body").on("click",".js-btn-wishlist",function(){id_auto=$(this).attr("data-id-auto");var e="Antes de adicionar à lista de desejos por favor escolher: "+(ele_variation=$("[name^='product_item_variation__product_detail_"+id_auto+"']")).data("variation-name");common_functions.verify_if_need_select_product_variation_and_alert(ele_variation,e)||(e=common_functions.get_id_product($(this)),r.save($(this),e))}),$("body").on("click",".js-wishlist-sharing-button",function(){r.is_public("update_status")}),$("body").on("click",".js-wishlist-modal-form-button",function(){r.is_public("open_form")}),$("#js_form_email_wishlist").submit(function(e){event.preventDefault();var t=$(this).find("#lista_id").val(),a=$(this).find("#form_name").val(),i=$(this).find("#form_email").val(),n=$(this).find("#form_message").val();""!=a&&""!=i&&""!=n?r.sendEmail(t,a,i,n):alert("Todos os campos são obrigatórios")}),new ProductScheduleService);$("body").on("click","#js-add-cart-product-schedule",function(){var e=[],a=$('input[id^="js-product-schedule_"]')||[],t=$("body").attr("data-id-current"),i=a.filter(function(e,t,a){return t.checked});if(i.length)for(var n=0;n<i.length;n++){var r=JSON.parse(i[n].value.replace(/'/g,'"'));e.push({product:t,schedule:r.date_time,quantity:1,replace_quantity:!1,is_gift:!1})}o.addToCart(e,function(i){var e=i.filter(function(e,t,a){return i[t].success}),t=i.filter(function(e,t,a){return!i[t].success});0<t.length?o.notifyErrorAction(t,function(){1<=e.length&&(window.location.href=url_carrinho),a.prop("checked",!1)}):1<=e.length&&(window.location.href=url_carrinho)})})}),$(function(){$(".js-mobile-nav-trigger, .js-mobile-nav-overlay").on("click",function(){$("nav.mobile-nav").toggleClass("active"),$(".js-mobile-nav-overlay").toggleClass("active"),$("div.mobile-nav.active").each(function(){$(this).removeClass("active")}),$("#page-wrapper").toggleClass("mobile-nav-opened"),$("html").toggleClass("mobile-nav-opened"),$("body").toggleClass("mobile-nav-opened")}),$(".js-mobile-nav-item").on("click",function(e){$(this).next(".mobile-nav").toggleClass("active")}),$(".js-mobile-nav-return").on("click",function(e){e.stopPropagation(),$ul=$(this).parent("ul"),($div=$ul.parent("")).hasClass("active"),$div.removeClass("active")})}),$(function(){var t=new SignUpService,l=new FormService,a=($(".js_form_check_cnpj").submit(function(e){e.preventDefault(),$(this).find(".input-loader").fadeIn("fast"),$(".signup-check__button").attr("disabled","disabled");e=(e=$("#form_cad_pj__signup")).length?e:$("#form_cad_pj__checkout");t.checkCNPJ($(this).find("input[name='cnpj']").val(),e)}),$(".modal__btn__close").click(function(e){modal_signup.clear(),modal_signup.hide()}),$(t).bind("onSuccessCheckCNPJ",function(e,t,a,n,r,o){e.preventDefault(),t.cep&&l.getDataCep(t.cep,a);var s=a,d=(0<$("#form_address__checkout-1").length&&(s=$("#form_address__checkout-1")),["bairro","cep","cidade","logradouro","numero"]);for(i in t.inscricao_estadual_isento&&(a.find($('[name="inscricao_estadual_isento"]')).prop("checked",!0),a.find($('[name="inscricao_estadual"]')).attr("disabled","disabled")),a.find($('[name="inscricao_estadual_isento"]')).attr("disabled","disabled"),t)""!=t[i]&&"S/N"!=t[i]&&("estado"===i?s.find($('[name="'+i+'"]')).val(t[i]).trigger("change").attr("disabled","disabled"):0<=d.indexOf(i)?(s.find($('[name="'+i+'"]')).val(t[i]).attr("disabled","disabled"),0<s.find(".form-address-others-fields").length&&"cep"===i&&s.find(".form-address-others-fields").slideDown()):a.find($('[name="'+i+'"]')).val(t[i]).attr("disabled","disabled"));modal_signup.clear(),modal_signup.hide()}),t.bind("onFailCheckCNPJStatus400 onFailCheckCNPJStatus500",function(e,t,a,i,n,r){$(".js_form_check_cnpj").find(".input-loader").fadeOut("fast"),$(".signup-check__button").removeAttr("disabled","disabled")}),$(l).bind("onSuccessGetDataCep",function(e,t,a){e.preventDefault(),a.find(".ibge-municipio-verificador-address-input").val(t.ibge_municipio),a.find(".ibge-municipio-address-input").val(t.ibge_municipio.toString().slice(0,-1)),a.find(".ibge-uf-address-input").val(t.ibge_uf)}),$("#id_email").keyup(function(){var e=$("#id_email").val();if(""===e)$(".emaill__suggest").hasClass("active")&&$(".emaill__suggest").removeClass("active"),$(".emaill__suggest").empty();else if(-1<e.indexOf("@")){$(".emaill__suggest").hasClass("active")||$(".emaill__suggest").addClass("active");var t=["gmail.com","hotmail.com","yahoo.com.br","outlook.com","bol.com.br","uol.com.br","terra.com.br","yahoo.com","icloud.com","live.com","ig.com.br","msn.com","globo.com"];$(".emaill__suggest").empty();for(var a=0;a<=t.length-1;a++)0<e.split("@")[1].length?0<=t[a].indexOf("".concat(e.split("@")[1]))&&$(".emaill__suggest").append("<a onclick=\"event.preventDefault();$('#id_email').val('".concat(e.split("@")[0],"@").concat(t[a],"');if ($('.emaill__suggest').hasClass('active')){$('.emaill__suggest').removeClass('active')};$('.emaill__suggest').empty()\">").concat(e.split("@")[0],"@").concat(t[a],"</a>")):$(".emaill__suggest").append("<a onclick=\"event.preventDefault();$('#id_email').val('".concat(e).concat(t[a],"');if ($('.emaill__suggest').hasClass('active')){$('.emaill__suggest').removeClass('active')};$('.emaill__suggest').empty()\">").concat(e).concat(t[a],"</a>"))}else{$(".emaill__suggest").hasClass("active")||$(".emaill__suggest").addClass("active");var i=["gmail.com","hotmail.com","yahoo.com.br","outlook.com","bol.com.br","uol.com.br","terra.com.br","yahoo.com","icloud.com","live.com","ig.com.br","msn.com","globo.com"];$(".emaill__suggest").empty();for(a=0;a<=i.length-1;a++)$(".emaill__suggest").append("<a onclick=\"event.preventDefault();$('#id_email').val('".concat(e,"@").concat(i[a],"');if ($('.emaill__suggest').hasClass('active')){$('.emaill__suggest').removeClass('active')};$('.emaill__suggest').empty()\">").concat(e,"@").concat(i[a],"</a>"))}}),document.querySelector(".emaill__suggest"));a&&document.querySelector("#signup").addEventListener("click",function(e){a.contains(e.target)||($(".emaill__suggest").hasClass("active")&&$(".emaill__suggest").removeClass("active"),$(".emaill__suggest").empty())})}),(CampaignCommon=function(){}).prototype={setBuyTogetherCampaignProductsAndMinimumQty:function(e,t,a,i){var n=products_by_parent_or_self_and_minimum_qty[e][t];products_by_parent_or_self_and_minimum_qty[e][t]={},products_by_parent_or_self_and_minimum_qty[e][t][a]=i||Object.values(n)[0]},getProductsBuyTogetherCampaignToAddCart:function(e,n,r){var o=[];return n=n||null,r=r||!0,$("#js_modal_buy_together_"+e).find(".buy-together__modal__item").each(function(e,t){var a=$(this).closest(".product__product_detail_list").attr("data-id-auto"),a=$("[name='product_item_variation__product_detail_"+a+"']");if(need=r?common_functions.verify_if_need_select_product_variation_and_alert(a):common_functions.verify_if_need_select_product_variation(a))return!(o=[]);var a=$(this).closest(".product__product_detail_list").attr("data-id-current"),i=$(this).attr("data-product-minimum-qty");n&&n==a||o.unshift({product_id:a,product_minimum_qty:i})}),o}},$(function(){$(common_functions).bind("itemVariationChangeOnBuyTogetherCampaign",function(e,t){if(e.preventDefault(),Boolean($('div[id^="js_buy_together_api_layout_"]').length))return null;var e=t.closest(".product__product_detail_list"),a=common_functions.get_id_item_sel_to_add_cart(t),t=t.attr("data-id-auto"),i=e.attr("data-id"),n=e.find(".buy-together__modal__item").attr("data-id-campaign"),r=(e.attr("data-id-current",a),campaign_common.setBuyTogetherCampaignProductsAndMinimumQty(n,i,a),{});for(product_id_parent_or_self in products_by_parent_or_self_and_minimum_qty[n]){var o=products_by_parent_or_self_and_minimum_qty[n][product_id_parent_or_self];r[Object.keys(o)[0]]=Object.values(o)[0]}r=JSON.stringify(r),product_detail_service.getAllDataProductDetailListBuyTogetherCampaign(a,t,r,e)}),$("body").on("click",".js_buy_together_button_add_cart",function(e){var t=$(this).attr("data-id-campaign");(products=campaign_common.getProductsBuyTogetherCampaignToAddCart(t)).length&&campaign_class.addToCartBuyTogetherCampaign(products)})}),function(){var t=[];return $('div[id^="js_buy_together_api_layout_"]').each(function(){var e=$(this).attr("data-layout");e&&t.push(e)}),t}),requestBuyTogetherCampaigns=function(e){var a;Boolean(e.length)&&(a=$("body").attr("data-id-current"),e.forEach(function(e,t){campaign_buy_together.requestCampaign(a,e)}))},buildBuyTogetherComponent=function(e,t,a,i){buildBuyTogetherComponentTitle(e,t.title),buildBuyTogetherGroups(e,t.groups,a,i),1==e&&buildBuyTogetherComponentPaymentConditions(e,t.payment_conditions)},buildBuyTogetherComponentTitle=function(e,t){$("#js_buy_together_api_layout_"+e+"_title").html(t)},buildBuyTogetherGroups=function(a,e,i,n){e.forEach(function(e,t){processButTogetherGroup(a,e.id,i)&&buildBuyTogetherGroup(a,e,n)})},processButTogetherGroup=function(e,t,a){return!a||a==t},buildBuyTogetherGroup=function(e,t,a){var e=$("#js_buy_together_api_layout_"+e+"_groups"),i=e.find("#js_buy_together_api_"+t.id);a?i.find('div[id^="js-product_price__product_detail_list_"]').first().replaceWith(t.component.pricing):i.length?i.replaceWith(t.component.group):e.append(t.component.group),common_functions.lazyLoadImages(".lazy-img")},buildBuyTogetherComponentPaymentConditions=function(e,t){e=$("#js_buy_together_api_layout_"+e+"_payment_conditions");e.html(""),e.append(t.component)},my_account=($(function(){var o={1:{filters:{},product_id:$("body").attr("data-id-current")},2:{filters:{},product_id:$("body").attr("data-id-current")}},s=getBuyTogetherLayouts();requestBuyTogetherCampaigns(s),$("body").on("click","#js_buy_together_api_change_group",function(e){var t=$(this),a=t.attr("data-group-id"),i=t.attr("data-next-product-in-group"),t=parseInt(t.attr("data-layout")),n=o[t].product_id;o[t].filters[a+"_product"]=i,campaign_buy_together.requestCampaign(n,t,o[t].filters,a,!1)}),$("body").on("click","#js_buy_together_api_add_cart",function(e){var t=campaign_buy_together.getGroupsProductsAndQuantities(1);t.length&&campaign_class.addToCartBuyTogetherCampaign(t)}),$(common_functions).bind("itemVariationChangeOnBuyTogetherCampaign",function(e,t){if(!Boolean(s.length))return null;var a=t.closest('ul[id^="js_buy_together_api_group_"]'),i=a.attr("data-layout"),n="true"==a.attr("data-is-master-group"),a=a.attr("data-group-id"),r=t.closest(".product__product_detail_list"),t=common_functions.get_id_item_sel_to_add_cart(t);r.attr("data-id-current",t),o[i].filters[a+"_product"]=t,r=n?t:$("body").attr("data-id-current"),campaign_buy_together.requestCampaign(r,i,o[i].filters,a,!0)}),$(campaign_buy_together).bind("onSuccessRequestCampaign",function(e,t,a,i,n,r){buildBuyTogetherComponent(i,t,n,r)})}),new MyAccountService),inputs_validate=($(function(){$("body").on("click",".bts__delete_delevery_address__account",function(e){e.preventDefault(),my_account.deleteDeliveryAddress($(this).attr("data-id"))})}),$(document).ready(function(){$(".order-table>tbody>.collapse-item").first().find(".js-collapse").css("display","block"),$(".order-table__row:nth-child(2)").find(".order-btn__collapse>span").text("Fechar"),$(".js-order-btn").click(function(e){e.preventDefault();var t=$(this).find("span"),e=$(this).data("id");$(".js-order-btn").not('*[data-id="'+e+'"]').find("span").text("Abrir"),$(".js-collapse").not('*[data-collapseID="'+e+'"]').slideUp(),$('*[data-collapseid="'+e+'"]').slideToggle("slow",function(){$(this).is(":visible")?t.text("Fechar"):t.text("Abrir")})}),$(".order-billet-code .copy-btn, .copy-btn").on("click",function(){$(this).prev("input").focus(),$(this).prev("input").select(),document.execCommand("copy"),document.execCommand("copy")&&($(".copiedtext").removeClass("copy-none"),window.setTimeout(function(){$(".copiedtext").addClass("copy-none")},2e3))}),$(".order-title .title-history").click(function(e){e.preventDefault(),$(".root").hasClass("order-title-open")?($(".title-history").html("<i class='icon-arrow-history'></i> Abrir histórico do pedido"),$(".order-title").css("border-bottom","0px")):($(".title-history").html("<i class='icon-arrow-history-down'></i> Fechar histórico do pedido"),$(".order-title").css("border-bottom","1px solid #ccc")),$(".root").toggleClass("order-title-open")})}),$(function(){var t=new IdentificationService;$("#form_login").submit(function(e){e.preventDefault(),t.login($(this))}),"undefined"==typeof checkoutOrder&&(window.GOOGLE_CLIENT_ID&&"undefined"!=typeof google&&(google.accounts.id.initialize({client_id:window.GOOGLE_CLIENT_ID,callback:function(e){e={credential:e.credential,status:"connected"};t.handleCredentialResponse("google",e)}}),window.USER_AUTHENTICATED||google.accounts.id.prompt()),$("body").on("click",".loginBtn--facebook",function(){FB.login(function(e){e={credential:null!==e.authResponse?e.authResponse.accessToken:"unknown",status:e.status};t.handleCredentialResponse("facebook",e)},{scope:"email"})})),$("#form_login input[name='username']").keydown(function(e){$(this).unmask()}),$("#form_login input[name='username']").on("input",function(e){var t=$(this),a=t.val(),i=/^\d+$/.test(a),a=a.length;i?a<=11?t.mask("999.999.999-99"):(11<a||14===a)&&t.mask("99.999.999/9999-99"):t.unmask()})}),(SalePartnerService=function(){}).prototype={createSalePartnerXhr:null,cancelXhr:function(e){e&&4!=e.readyState&&e.abort()},bind:function(e,t){$(this).unbind(e,t),$(this).bind(e,t)},validateSalePartner:function(n,r){var o=this;n=$(n),o.bind("onBeforevalidateSalePartner",o.handlerOnBeforevalidateSalePartner),$(o).trigger("onBeforevalidateSalePartner"),"___.___.___-__"==n.find("[name='cpf']").val()&&n.find("[name='cpf']").val("");$.ajax({type:"POST",url:"/clientes/validate-sale-partner-signup/",data:n.serialize()+"&only_validate=1",dataType:"json"}).done(function(e,t,a){o.bind("onSuccessValidateSalePartner",o.handlerOnSuccessValidateSalePartner),$(o).trigger("onSuccessValidateSalePartner",[e,n,r])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(o.bind("onFailValidateSalePartner500",o.handlerOnFailValidateSalePartner500),$(o).trigger("onFailValidateSalePartner500",[i,n,r,e,t,a])):(o.bind("onFailValidateSalePartner",o.handlerOnFailValidateSalePartner),$(o).trigger("onFailValidateSalePartner",[i,n,r,e,t,a]))})},handlerOnBeforeValidateSalePartner:function(e,t,a,i){e.isDefaultPrevented()},handlerOnSuccessValidateSalePartner:function(e,t,a,i){e.isDefaultPrevented()},handlerOnFailValidateSalePartner500:function(e,t,a,i,n,r,o){e.isDefaultPrevented()||alert("Ocorreu um erro ao validar os dados pessoais.")},handlerOnFailValidateSalePartner:function(e,t,a,i,n,r,o){e.isDefaultPrevented()},createSalePartner:function(e){var n=this,t=(e=$(e),this.cancelXhr(this.createSalePartnerXhr),n.bind("onBeforeCreateSalePartner",n.handlerOnBeforeCreateSalePartner),$(n).trigger("onBeforeCreateSalePartner"),e.attr("action")),e=e.serialize();this.createSalePartnerXhr=$.ajax({type:"POST",url:t,data:e,dataType:"json"}).done(function(e,t,a){n.bind("onSuccessCreateSalePartner",n.handlerOnSuccessCreateSalePartner),$(n).trigger("onSuccessCreateSalePartner",[e])}).fail(function(e,t,a){var i=e.responseJSON;500==e.status?(n.bind("onFailCreateSalePartner500",n.handlerOnFailCreateSalePartner500),$(n).trigger("onFailCreateSalePartner500",[i,e,t,a])):(n.bind("onFailCreateSalePartner",n.handlerOnFailCreateSalePartner),$(n).trigger("onFailCreateSalePartner",[i,e,t,a]))})},handlerOnBeforeCreateSalePartner:function(e,t){e.isDefaultPrevented()},handlerOnSuccessCreateSalePartner:function(e,t){e.isDefaultPrevented()},handlerOnFailCreateSalePartner500:function(e,t,a,i,n){e.isDefaultPrevented()||alert("Ocorreu um erro ao criar o usuario.")},handlerOnFailCreateSalePartner:function(e,t,a,i,n){e.isDefaultPrevented()||Object.keys(t).length<=2&&Object.keys(t)[0]&&(e=$('input[name="'+Object.keys(t)[0]+'"]').attr("id"),e=$('label[for="'+e+'"]').text().slice(0,-2),alert(e+" - "+Object.values(t)[0][0]))}},{}),retailerCode=null;function copyToClipboard(e,t){var a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(a)}$(function(){var a=new SalePartnerService;function setFormToValidate(e){e=e.closest("form");current_form_id=(current_form_to_validate=e).attr("id")}function pushInputsAndValidate(e,t){e=e.attr("name");inputs_validate[current_form_id]||(inputs_validate[current_form_id]=[]),-1==inputs_validate[current_form_id].indexOf(e)&&inputs_validate[current_form_id].push(e),!0!==t&&a.validateSalePartner(current_form_to_validate,current_form_id)}$(a).bind("onFailValidateSalePartner",function(e,t,a,i){var n,r;for(r in t)for(var o,s,d=0;d<inputs_validate[i].length;d++)r==inputs_validate[i][d]?((n=a.find("[name='"+inputs_validate[i][d]+"']")).removeClass("input-valid"),o=n.parent(),s=t[r],o.find(".js-input-error").html(s).css("display","block")):inputs_validate[i][d]in t||((n=a.find("[name='"+inputs_validate[i][d]+"']")).addClass("input-valid"),(o=n.parent()).find(".js-input-error").html("").css("display","none"))}),$(".js-input-PF[type!='checkbox'], .input__address[type!='checkbox']").focusin(function(e){setFormToValidate($(e.currentTarget))}),$(".js-input-PF[type!='checkbox'], .input__address[type!='checkbox']").focusout(function(e){pushInputsAndValidate($(e.currentTarget))}),$(".js-input-PF[type='checkbox'], .input__address[type='checkbox']").change(function(e){setFormToValidate($(e.currentTarget)),pushInputsAndValidate($(e.currentTarget))});var t=new IdentificationService;$(t).bind("onFailRecoverPasswordStatus onFailVerifyRegisteredStatus400 onFailLoginStatus401",function(e,t,a,i,n,r){for(var o in e.preventDefault(),t){a.find("#form-username_error").html(t[o][0]);break}}),$(t).bind("onSuccessLogin",function(){$.fancybox.close()}),$("#sale_partner_login_form").submit(function(e){e.preventDefault(),t.login($(this),"/api/v2/sale-partner/login/")}),void 0!==(retailerCode=function(){for(var e,t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++)if("r"===(e=t[a].split("="))[0])return void 0===e[1]?void 0:decodeURIComponent(e[1])}())&&localStorage.setItem("retailerCode",retailerCode),window.globalFormService.bind("onSuccessGetDataCep",function(e,t,a){(a=$(a)).find(".form-address-others-fields").hide().slideDown("slow")})});