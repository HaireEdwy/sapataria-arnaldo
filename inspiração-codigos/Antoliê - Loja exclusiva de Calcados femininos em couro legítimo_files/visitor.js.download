var xex_visitor_Class=function(){function r(a,e){a="string"===typeof a&&""!=a?a:!1;e=e&&"undefined"!==typeof e?e:"";if(a)for(var f in v){var c=v[f](String(a),String(e));if(!1!==c&&(!xe_isset(g[f])||g[f]!=c))return t(!1),g[f]=c,p(),d.lastFire=new Date,xe_core.fireEvent(d.events.EMAIL_INPUT,g),!0}return!1}function p(){return""!=g.id?(xe_createCookie("xe_visitor",JSON.stringify(g),720,!0),!0):!1}function w(a){a=a&&"object"===typeof a?a:g;return""==a.id||16>a.id.length?!1:!0}function y(){0==d.pgvwHit&&w()&&(d.pgvwHit=1,xe_pageViewHit(g.id),1==d.pgvwHit&&(d.pgvwHit=2,window.setInterval(function(){xe_pageViewHit(g.id,!0)},3E5)))}function x(a){a&&"string"===typeof a&&""!=a&&"{"==a[0]?(a=JSON.parse(a),w(a)&&(g=a,d.dataTunnel&&(d.dataTunnel=!1,p()))):t(!1);y("@fillInfo")}function t(a){function e(){if(xe_isset(xe_urlp.vtrk)){c=String(xe_urlp.vtrk);for(var m=c.replace(/-/g,"+").replace(/_/g,"/").replace(/[a-zA-Z]/g,function(b){return String.fromCharCode(("Z">=b?90:122)>=(b=b.charCodeAt(0)+13)?b:b-26)});m.length%4;)m+="=";c=window.atob(m);try{c=JSON.parse(c)}catch(b){c=!1}return c}return!1}if(!d.vtrk){d.vtrk=!0;var f=e();if(f)return g.id=f.visitor_id,g.email=f.email,p(),g}if(a&&!d.dataTunnel){d.dataTunnel=!0;var c=xe_readCookie("xe_visitor",x)}else return c=xe_readCookie("xe_visitor"),""!=c?x(c):""==g.id&&(g.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var b=16*Math.random()|0;return("x"==m?b:b&3|8).toString(16)}),""==g.email&&(a=xe_readCookie(!1,"cartstack.com-email"),r(a)),p()),g}function u(a,e){function f(n,l,q){l.addEventListener?l.addEventListener(n,q,!1):l.attachEvent&&l.attachEvent("on"+n,q)}e=null===e||"undefined"===typeof e||"function"!==typeof e.querySelectorAll?window.document:e;var c=e.querySelectorAll("input");if(0<c.length)for(var m=0;m<c.length;m++){var b=c[m],k=xe_isset(b.name)?String(b.name):"";k=xe_isset(b.id)?k+String(b.id):k;var h=c[m].type.toLowerCase();"text"!=h&&"email"!=h&&"phone"!=h&&"tel"!=h||/(cartao|cc|card|credit|pagamento|pay|expiration|cvv|cvc|cid)/i.test(k)||(r(b.value),a&&navigator.cookieEnabled&&document.addEventListener&&f("blur",b,function(){r(this.value)}),a&&navigator.cookieEnabled&&document.addEventListener&&f("change",b,function(){xex_visitor.lfield=b;xe_isset(xex_visitor.chgint)&&!1!==xex_visitor.chgint||(xex_visitor.chgint=window.setInterval(function(){document.activeElement!=xex_visitor.lfield&&(window.clearInterval(xex_visitor.chgint),xex_visitor.chgint=!1,r(xex_visitor.lfield.value))},1500))}))}}var d=this;this.ns="VISITOR";this.vtrk=!1;this.version="03052023_2117";this.lastFire=0;this.popInterv={handle:-1,count:0,max:5};this.events={EMAIL_INPUT:xe_core.createEvent(d.ns+"_EMAIL_INPUT"),CELLPHONE_INPUT:xe_core.createEvent(d.ns+"_CELLPHONE_INPUT"),NAME_INPUT:xe_core.createEvent(d.ns+"_NAME_INPUT")};this.dataTunnel=!1;this.pgvwHit=0;var g={id:"",email:""},v={email:function(a,e){var f=/^([A-Za-z0-9_\-\.])+@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,7})$/;if((a=a.replace(/\s+/g,""))&&f.test(a)){f=["Y29udGF0b0B0cnVjYW9hdXRvcGVjYXM=","bnVudS5icnVAZ21haWwuY29t"];a=a.toLowerCase();for(var c=0;c<f.length;c++)if(-1<a.indexOf(window.atob(f[c])))return!1;return String(a)}return!1},cph:function(a,e){a=a.match(/\d+/g);a=Array.isArray(a)&&0<a.length?a.join([]):"";return/^\(?(?:[14689][1-9]|2[12478]|3[1234578]|5[1345]|7[134579])\)? ?(?:[2-8]|9[1-9])[0-9]{3}\-?[0-9]{4}$/.test(a)?String(a):!1},name:function(a,e){return!1}};xe_core.createService("saveVisitorInfo",function(){p(!0)});xe_core.createService("visitorInfo",function(){var a=Array.prototype.slice.call(arguments);t(!1);var e=g;xe_isset(e.cph)&&(void 0!==a&&xe_isset(a[0],"boolean")&&a[0]||(e.cph=String(+new Date)));return e});xe_core.hookEvent(XE_EVENTS.vars.ready,function(a){xe_core.requireExtension("datatunnel.js")||console.error("Data Tunnel extension wasn't loaded... User tracking can't work correctly!");t(!0);xe_core.hookEvent(XE_EVENTS.vars.domready,function(e){function f(k,h){h=h&&"undefined"!==typeof h?h:!1;k=window.btoa(k.trim().replace(/\s+/g,"-"));var n=Math.round((new Date).getTime()/1E3);if(h)return b.push({key:k,ts:n,hits:0,blocked:!1}),!0;for(var l=0;l<b.length;l++)if(b[l].key===k){if(b[l].blocked)return!0;b[l].hits++;var q=Math.floor(n-parseInt(b[l].ts));if(2>=q&&2<b[l].hits)return b[l].blocked=!0;b[l].ts=n;return 2>=q?!0:!1}return!1}function c(){(new m(function(k){k.forEach(function(h){[].slice.call(h.addedNodes).forEach(function(n){n.classList&&0<n.classList.length&&""!=n.classList.value&&!f(n.classList.value)&&(f(n.classList.value,!0),window.setTimeout(function(){u(!0,n)},3E3))})})})).observe(document,{childList:!0,subtree:!0,characterData:!1,attributes:!0})}u(!0);-1===d.popInterv.handle&&(d.popInterv.handle=window.setInterval(function(){d.popInterv.count++;d.popInterv.count>d.popInterv.max?window.clearInterval(d.popInterv.handle):u(d.popInterv.count>=d.popInterv.max?!0:!1)},1E3));var m=function(){for(var k=["WebKit","Moz","O","Ms",""],h=0;h<k.length;h++)if(k[h]+"MutationObserver"in window)return window[k[h]+"MutationObserver"];return!1}(),b=[];m&&c()})},9)},xex_visitor=new xex_visitor_Class;