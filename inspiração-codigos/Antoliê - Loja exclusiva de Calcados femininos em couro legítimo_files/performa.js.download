window.performaConfig={};var performa_Class=function(){var that=this;window.pfm_env=window.location.protocol+((xe_core.vm=='dev')?'//dev':((xe_core.vm!==false&&xe_core.level>=1)?'//stage':'//api'));window.pfm_pubkey=window.pfm_pubkey||(xe_isset(xe_config.crossDomain)?xe_config.crossDomain.DGUID:xe_config.GUID);this.init=function(){xe_basicXMLHttpRequest('GET',pfm_env+'.performa.ai/v1/?type=front&params={"route":"store_details"}&pubkey='+pfm_pubkey+'&cache=remote',true,function(data){if(data.status===200){performaConfig=(String(data.responseText)!=='')?JSON.parse(data.responseText):false;if(performaConfig&&xe_isset(performaConfig.status)){if(performaConfig.status==='ok'){var version=(xe_isset(performaConfig.details.version))?'-'+String(performaConfig.details.version):'';var performa_js=(pfm_env.indexOf('//api')>-1)?'performa'+version+'.js':'performa-valid'+version+'.js?ts='+String(+new Date());if(xe_isset(performaConfig.details.variables.boot,'string')&&performaConfig.details.variables.boot!=''){var evalVar='(function () {'+performaConfig.details.variables.boot+'})()';try{var resultEval=eval(evalVar);}catch(e){xe_core.vm&&console.error('[Performa] Failed to execute the boot script! '+e);}}
if(xe_isset(performaConfig.details.cross_domain,'string')&&performaConfig.details.cross_domain!=''){document.cookie.split(';').reduce((cookies,cookie)=>{var[name,value]=cookie.split('=').map(c=>c.trim());if(name.indexOf('xe_xdm-')>-1)
document.cookie=name+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';},{});xe_crossDomain(performaConfig.details.cross_domain);}
var script=document.createElement('script');script.type='text/javascript';script.async=true;script.id='performaLoadHelper';script.src='//'+((pfm_env.indexOf('//api')>-1)?'cdn':'cdn-valid')+'.performa.ai/v1/'+performa_js;document.getElementsByTagName('head')[0].appendChild(script);}}else
xe_core.vm&&console.error('[Performa] - Data Error!');}});}
xe_core.hookEvent(XE_EVENTS.vars.ready,function(){if(!xe_core.requireExtension('datatunnel.js','visitor.js')){console.error('[Conectiva][Performa] Required extensions not loaded...');}else{xe_core.vm&&console.log('[Conectiva][Performa] Initing extension...');that.init();}});};var xex_performa=new performa_Class();