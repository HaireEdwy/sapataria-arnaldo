(()=>{"use strict";class e extends HTMLElement{constructor(){super();const{content:e,dataset:{theme:t,style:s,reject:n,pair1:a,pair2:o}}=document.getElementById("scalaLGPD");this.insideThemeEditor=t,this.inlineStyle=s,this.defaultPrefences=o,this.attachShadow({mode:"open"}).appendChild(e);var[i,c,r]=this.shadowRoot.querySelectorAll("button");"true"===n&&(c.addEventListener("click",()=>this.savePreferences(o),{once:!0}),c.removeAttribute("hidden")),r.addEventListener("click",()=>this.savePreferences(a),{once:!0}),this.preferenceButton=i}mount(){var e;var t;null!=(e=window.localStorage.getItem("scalaLGPDBanner"))&&e&&!this.insideThemeEditor||(this.setAttribute("style",this.inlineStyle),this.classList.add("mount"),document.body.append(this)),customElements.whenDefined("second-layer").then(()=>{var e=document.getElementById("LGPD2");if(e){const t=new s(e);this.preferenceButton.textContent=e.dataset.msg,this.preferenceButton.addEventListener("click",()=>t.mount(this)),this.preferenceButton.removeAttribute("hidden")}})}savePreferences(e=this.defaultPrefences){window.localStorage.setItem("scalaLGPDBanner",e),this.classList.remove("mount"),setTimeout(()=>this.remove(),500)}}class s extends HTMLElement{constructor({content:e}){var t;super(),this.attachShadow({mode:"open"}).appendChild(e),[...this.shadowRoot.querySelectorAll("button")].forEach(e=>e.addEventListener("click",e=>this.buttonHandler(e)))}mount(e){this.mounted||(this.associatedBanner=e,document.body.append(this)),e.classList.remove("mount"),this.classList.add("mount"),this.mounted=!0}buttonHandler({currentTarget:{classList:{value:e}}}){var{classList:t,associatedBanner:s,shadowRoot:n}=this;switch(e){case"accept":s.savePreferences();case"save":var a=[...n.querySelectorAll("input")].reduce((e,{id:t,checked:s})=>e.concat(t+`=${s};`),"");s.savePreferences(a);default:this.associatedBanner.classList.add("mount"),t.remove("mount")}}}function t(){customElements.define("scala-lgpd",e),customElements.define("second-layer",s),(new e).mount()}window.addEventListener("DOMContentLoaded",t,{once:!0})})();